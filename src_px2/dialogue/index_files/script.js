(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}function r(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var i=new WeakMap,a=new WeakSet;function c(t){var e,n=(this,(e=i).get(o(e,this)));return n||(n="${mainTheme}"),n.split("${mainTheme}").join(t.mainTheme)}const u=function(){return t=function t(e){var n,c,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,n=a),n.add(this),function(t,e,n){r(t,e),e.set(t,"")}(this,i),c=i,u=e.template||"",c.set(o(c,this),u)},(n=[{key:"ask",value:function(t){var e=o(a,this,c).call(this,t);return new Promise((function(t,n){$.ajax({url:"./index_files/apis/query.php",type:"post",dataType:"json",data:{content:e,CSRF_TOKEN:$("meta[name=csrf-token]").attr("content")},async:!0}).done((function(e){t(e)})).fail((function(t){n(t)}))}))}}])&&e(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}function m(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var y,p=new WeakMap,h=new(function(){return t=function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=void 0,function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e=this,n=p),n.set(e,r)},(e=[{key:"init",value:function(){var t,e;t=p,e={presenter:new u({template:"次の課題について、最もよいと思われる解決方法を1つだけ提案してください。\n\n■課題\n${mainTheme}\n"}),reviewers:[new u({}),new u({}),new u({})]},t.set(m(t,this),e)}},{key:"startDiscussion",value:function(t){var e;(e=p,this,e.get(m(e,this))).presenter.ask({mainTheme:t.mainTheme}).then((function(t){console.log(t)})).catch((function(t){console.error(t)}))}}])&&s(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}());$("#cont-btn-sendtest").on("click",(function(){var t=$('textarea[name="main-theme"]').val();new Promise((function(t,e){y?t(y):window.getCsrfToken((function(e){t(y=e)}))})).then((function(e){h.init(),h.startDiscussion({mainTheme:t})}))}))})();
//# sourceMappingURL=script.js.map