/*! For license information please see script.js.LICENSE.txt */
(()=>{var e={76:e=>{"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){switch(void 0===e?"undefined":t(e)){case"boolean":return e?"1":"";case"string":return e;case"number":return isNaN(e)?"NAN":isFinite(e)?e+"":(e<0?"-":"")+"INF";case"undefined":return"";case"object":return Array.isArray(e)?"Array":null!==e?"Object":"";default:throw new Error("Unsupported value type")}}},811:(e,t,n)=>{"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){switch(void 0===e?"undefined":r(e)){case"number":return e;case"string":return parseFloat(e)||0;default:return n(308)(e)}}},308:e=>{"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){switch(void 0===e?"undefined":t(e)){case"number":return isNaN(e)||!isFinite(e)?0:e<0?Math.ceil(e):Math.floor(e);case"string":return parseInt(e,10)||0;default:return+!!e}}},440:e=>{"use strict";e.exports=function(e,t){var n=void 0,r=void 0,s=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],i=/\\?(.?)/gi,o=function(e,t){return r[e]?r[e]():t},a=function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e};return r={d:function(){return a(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return s[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var e=r.j(),t=e%10;return t<=3&&1===parseInt(e%100/10,10)&&(t=0),["st","nd","rd"][t-1]||"th"},w:function(){return n.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),t=new Date(r.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),t=new Date(e.getFullYear(),0,4);return a(1+Math.round((e-t)/864e5/7),2)},F:function(){return s[6+r.n()]},m:function(){return a(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return e%4==0&e%100!=0|e%400==0},o:function(){var e=r.n(),t=r.W();return r.Y()+(12===e&&t<9?1:1===e&&t>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=3600*n.getUTCHours(),t=60*n.getUTCMinutes(),r=n.getUTCSeconds();return a(Math.floor((e+t+r+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return n.getHours()},h:function(){return a(r.g(),2)},H:function(){return a(r.G(),2)},i:function(){return a(n.getMinutes(),2)},s:function(){return a(n.getSeconds(),2)},u:function(){return a(1e3*n.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){return new Date(r.Y(),0)-Date.UTC(r.Y(),0)!=new Date(r.Y(),6)-Date.UTC(r.Y(),6)?1:0},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+a(100*Math.floor(t/60)+t%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(i,o)},r:function(){return"D, d M Y H:i:s O".replace(i,o)},U:function(){return n/1e3|0}},function(e,t){return n=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),e.replace(i,o)}(e,t)}},357:e=>{"use strict";var t="[ \\t]+",n="[ \\t]*",r="(?:([ap])\\.?m\\.?([\\t ]|$))",s="(2[0-4]|[01]?[0-9])",i="([01][0-9]|2[0-4])",o="(0?[1-9]|1[0-2])",a="([0-5]?[0-9])",l="([0-5][0-9])",c="(60|[0-5]?[0-9])",p="(60|[0-5][0-9])",u="(?:\\.([0-9]+))",h="sunday|monday|tuesday|wednesday|thursday|friday|saturday",f="sun|mon|tue|wed|thu|fri|sat",d=h+"|"+f+"|weekdays?",g="first|second|third|fourth|fifth|sixth|seventh|eighth?|ninth|tenth|eleventh|twelfth",m="next|last|previous|this",y="(?:second|sec|minute|min|hour|day|fortnight|forthnight|month|year)s?|weeks|"+d,x="([0-9]{1,4})",b="([0-9]{4})",k="(1[0-2]|0?[0-9])",w="(0[0-9]|1[0-2])",v="(?:(3[01]|[0-2]?[0-9])(?:st|nd|rd|th)?)",T="(0[0-9]|[1-2][0-9]|3[01])",S="january|february|march|april|may|june|july|august|september|october|november|december",E="jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec",A="("+S+"|"+E+"|i[vx]|vi{0,3}|xi{0,2}|i{1,3})",_="((?:GMT)?([+-])"+s+":?"+a+"?)",j=A+"[ .\\t-]*"+v+"[,.stndrh\\t ]*";function R(e,t){switch(t=t&&t.toLowerCase()){case"a":e+=12===e?-12:0;break;case"p":e+=12!==e?12:0}return e}function O(e){var t=+e;return e.length<4&&t<100&&(t+=t<70?2e3:1900),t}function $(e){return{jan:0,january:0,i:0,feb:1,february:1,ii:1,mar:2,march:2,iii:2,apr:3,april:3,iv:3,may:4,v:4,jun:5,june:5,vi:5,jul:6,july:6,vii:6,aug:7,august:7,viii:7,sep:8,sept:8,september:8,ix:8,oct:9,october:9,x:9,nov:10,november:10,xi:10,dec:11,december:11,xii:11}[e.toLowerCase()]}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{mon:1,monday:1,tue:2,tuesday:2,wed:3,wednesday:3,thu:4,thursday:4,fri:5,friday:5,sat:6,saturday:6,sun:0,sunday:0}[e.toLowerCase()]||t}function N(e,t){if(!(e=e&&e.match(/(?:GMT)?([+-])(\d+)(:?)(\d{0,2})/i)))return t;var n="-"===e[1]?-1:1,r=+e[2],s=+e[4];return e[4]||e[3]||(s=Math.floor(r%100),r=Math.floor(r/100)),n*(60*r+s)*60}var z={acdt:37800,acst:34200,addt:-7200,adt:-10800,aedt:39600,aest:36e3,ahdt:-32400,ahst:-36e3,akdt:-28800,akst:-32400,amt:-13840,apt:-10800,ast:-14400,awdt:32400,awst:28800,awt:-10800,bdst:7200,bdt:-36e3,bmt:-14309,bst:3600,cast:34200,cat:7200,cddt:-14400,cdt:-18e3,cemt:10800,cest:7200,cet:3600,cmt:-15408,cpt:-18e3,cst:-21600,cwt:-18e3,chst:36e3,dmt:-1521,eat:10800,eddt:-10800,edt:-14400,eest:10800,eet:7200,emt:-26248,ept:-14400,est:-18e3,ewt:-14400,ffmt:-14660,fmt:-4056,gdt:39600,gmt:0,gst:36e3,hdt:-34200,hkst:32400,hkt:28800,hmt:-19776,hpt:-34200,hst:-36e3,hwt:-34200,iddt:14400,idt:10800,imt:25025,ist:7200,jdt:36e3,jmt:8440,jst:32400,kdt:36e3,kmt:5736,kst:30600,lst:9394,mddt:-18e3,mdst:16279,mdt:-21600,mest:7200,met:3600,mmt:9017,mpt:-21600,msd:14400,msk:10800,mst:-25200,mwt:-21600,nddt:-5400,ndt:-9052,npt:-9e3,nst:-12600,nwt:-9e3,nzdt:46800,nzmt:41400,nzst:43200,pddt:-21600,pdt:-25200,pkst:21600,pkt:18e3,plmt:25590,pmt:-13236,ppmt:-17340,ppt:-25200,pst:-28800,pwt:-25200,qmt:-18840,rmt:5794,sast:7200,sdmt:-16800,sjmt:-20173,smt:-13884,sst:-39600,tbmt:10751,tmt:12344,uct:0,utc:0,wast:7200,wat:3600,wemt:7200,west:3600,wet:0,wib:25200,wita:28800,wit:32400,wmt:5040,yddt:-25200,ydt:-28800,ypt:-28800,yst:-32400,ywt:-28800,a:3600,b:7200,c:10800,d:14400,e:18e3,f:21600,g:25200,h:28800,i:32400,k:36e3,l:39600,m:43200,n:-3600,o:-7200,p:-10800,q:-14400,r:-18e3,s:-21600,t:-25200,u:-28800,v:-32400,w:-36e3,x:-39600,y:-43200,z:0},M={yesterday:{regex:/^yesterday/i,name:"yesterday",callback:function(){return this.rd-=1,this.resetTime()}},now:{regex:/^now/i,name:"now"},noon:{regex:/^noon/i,name:"noon",callback:function(){return this.resetTime()&&this.time(12,0,0,0)}},midnightOrToday:{regex:/^(midnight|today)/i,name:"midnight | today",callback:function(){return this.resetTime()}},tomorrow:{regex:/^tomorrow/i,name:"tomorrow",callback:function(){return this.rd+=1,this.resetTime()}},timestamp:{regex:/^@(-?\d+)/i,name:"timestamp",callback:function(e,t){return this.rs+=+t,this.y=1970,this.m=0,this.d=1,this.dates=0,this.resetTime()&&this.zone(0)}},firstOrLastDay:{regex:/^(first|last) day of/i,name:"firstdayof | lastdayof",callback:function(e,t){"first"===t.toLowerCase()?this.firstOrLastDayOfMonth=1:this.firstOrLastDayOfMonth=-1}},backOrFrontOf:{regex:RegExp("^(back|front) of "+s+n+r+"?","i"),name:"backof | frontof",callback:function(e,t,n,r){var s=+n,i=15;return"back"===t.toLowerCase()||(s-=1,i=45),s=R(s,r),this.resetTime()&&this.time(s,i,0,0)}},weekdayOf:{regex:RegExp("^("+g+"|"+m+")"+t+"("+h+"|"+f+")"+t+"of","i"),name:"weekdayof"},mssqltime:{regex:RegExp("^"+o+":"+l+":"+p+"[:.]([0-9]+)"+r,"i"),name:"mssqltime",callback:function(e,t,n,r,s,i){return this.time(R(+t,i),+n,+r,+s.substr(0,3))}},oracledate:{regex:/^(\d{2})-([A-Z]{3})-(\d{2})$/i,name:"d-M-y",callback:function(e,t,n,r){var s={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}[n.toUpperCase()];return this.ymd(2e3+parseInt(r,10),s,parseInt(t,10))}},timeLong12:{regex:RegExp("^"+o+"[:.]"+a+"[:.]"+p+n+r,"i"),name:"timelong12",callback:function(e,t,n,r,s){return this.time(R(+t,s),+n,+r,0)}},timeShort12:{regex:RegExp("^"+o+"[:.]"+l+n+r,"i"),name:"timeshort12",callback:function(e,t,n,r){return this.time(R(+t,r),+n,0,0)}},timeTiny12:{regex:RegExp("^"+o+n+r,"i"),name:"timetiny12",callback:function(e,t,n){return this.time(R(+t,n),0,0,0)}},soap:{regex:RegExp("^"+b+"-"+w+"-"+T+"T"+i+":"+l+":"+p+u+_+"?","i"),name:"soap",callback:function(e,t,n,r,s,i,o,a,l){return this.ymd(+t,n-1,+r)&&this.time(+s,+i,+o,+a.substr(0,3))&&this.zone(N(l))}},wddx:{regex:RegExp("^"+b+"-"+k+"-"+v+"T"+s+":"+a+":"+c),name:"wddx",callback:function(e,t,n,r,s,i,o){return this.ymd(+t,n-1,+r)&&this.time(+s,+i,+o,0)}},exif:{regex:RegExp("^"+b+":"+w+":"+T+" "+i+":"+l+":"+p,"i"),name:"exif",callback:function(e,t,n,r,s,i,o){return this.ymd(+t,n-1,+r)&&this.time(+s,+i,+o,0)}},xmlRpc:{regex:RegExp("^"+b+w+T+"T"+s+":"+l+":"+p),name:"xmlrpc",callback:function(e,t,n,r,s,i,o){return this.ymd(+t,n-1,+r)&&this.time(+s,+i,+o,0)}},xmlRpcNoColon:{regex:RegExp("^"+b+w+T+"[Tt]"+s+l+p),name:"xmlrpcnocolon",callback:function(e,t,n,r,s,i,o){return this.ymd(+t,n-1,+r)&&this.time(+s,+i,+o,0)}},clf:{regex:RegExp("^"+v+"/("+E+")/"+b+":"+i+":"+l+":"+p+t+_,"i"),name:"clf",callback:function(e,t,n,r,s,i,o,a){return this.ymd(+r,$(n),+t)&&this.time(+s,+i,+o,0)&&this.zone(N(a))}},iso8601long:{regex:RegExp("^t?"+s+"[:.]"+a+"[:.]"+c+u,"i"),name:"iso8601long",callback:function(e,t,n,r,s){return this.time(+t,+n,+r,+s.substr(0,3))}},dateTextual:{regex:RegExp("^"+A+"[ .\\t-]*"+v+"[,.stndrh\\t ]+"+x,"i"),name:"datetextual",callback:function(e,t,n,r){return this.ymd(O(r),$(t),+n)}},pointedDate4:{regex:RegExp("^"+v+"[.\\t-]"+k+"[.-]"+b),name:"pointeddate4",callback:function(e,t,n,r){return this.ymd(+r,n-1,+t)}},pointedDate2:{regex:RegExp("^"+v+"[.\\t]"+k+"\\.([0-9]{2})"),name:"pointeddate2",callback:function(e,t,n,r){return this.ymd(O(r),n-1,+t)}},timeLong24:{regex:RegExp("^t?"+s+"[:.]"+a+"[:.]"+c),name:"timelong24",callback:function(e,t,n,r){return this.time(+t,+n,+r,0)}},dateNoColon:{regex:RegExp("^"+b+w+T),name:"datenocolon",callback:function(e,t,n,r){return this.ymd(+t,n-1,+r)}},pgydotd:{regex:RegExp("^"+b+"\\.?(00[1-9]|0[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6])"),name:"pgydotd",callback:function(e,t,n){return this.ymd(+t,0,+n)}},timeShort24:{regex:RegExp("^t?"+s+"[:.]"+a,"i"),name:"timeshort24",callback:function(e,t,n){return this.time(+t,+n,0,0)}},iso8601noColon:{regex:RegExp("^t?"+i+l+p,"i"),name:"iso8601nocolon",callback:function(e,t,n,r){return this.time(+t,+n,+r,0)}},iso8601dateSlash:{regex:RegExp("^"+b+"/"+w+"/"+T+"/"),name:"iso8601dateslash",callback:function(e,t,n,r){return this.ymd(+t,n-1,+r)}},dateSlash:{regex:RegExp("^"+b+"/"+k+"/"+v),name:"dateslash",callback:function(e,t,n,r){return this.ymd(+t,n-1,+r)}},american:{regex:RegExp("^"+k+"/"+v+"/"+x),name:"american",callback:function(e,t,n,r){return this.ymd(O(r),t-1,+n)}},americanShort:{regex:RegExp("^"+k+"/"+v),name:"americanshort",callback:function(e,t,n){return this.ymd(this.y,t-1,+n)}},gnuDateShortOrIso8601date2:{regex:RegExp("^"+x+"-"+k+"-"+v),name:"gnudateshort | iso8601date2",callback:function(e,t,n,r){return this.ymd(O(t),n-1,+r)}},iso8601date4:{regex:RegExp("^([+-]?[0-9]{4})-"+w+"-"+T),name:"iso8601date4",callback:function(e,t,n,r){return this.ymd(+t,n-1,+r)}},gnuNoColon:{regex:RegExp("^t?"+i+l,"i"),name:"gnunocolon",callback:function(e,t,n){switch(this.times){case 0:return this.time(+t,+n,0,this.f);case 1:return this.y=100*t+ +n,this.times++,!0;default:return!1}}},gnuDateShorter:{regex:RegExp("^"+b+"-"+k),name:"gnudateshorter",callback:function(e,t,n){return this.ymd(+t,n-1,1)}},pgTextReverse:{regex:RegExp("^(\\d{3,4}|[4-9]\\d|3[2-9])-("+E+")-"+T,"i"),name:"pgtextreverse",callback:function(e,t,n,r){return this.ymd(O(t),$(n),+r)}},dateFull:{regex:RegExp("^"+v+"[ \\t.-]*"+A+"[ \\t.-]*"+x,"i"),name:"datefull",callback:function(e,t,n,r){return this.ymd(O(r),$(n),+t)}},dateNoDay:{regex:RegExp("^"+A+"[ .\\t-]*"+b,"i"),name:"datenoday",callback:function(e,t,n){return this.ymd(+n,$(t),1)}},dateNoDayRev:{regex:RegExp("^"+b+"[ .\\t-]*"+A,"i"),name:"datenodayrev",callback:function(e,t,n){return this.ymd(+t,$(n),1)}},pgTextShort:{regex:RegExp("^("+E+")-"+T+"-"+x,"i"),name:"pgtextshort",callback:function(e,t,n,r){return this.ymd(O(r),$(t),+n)}},dateNoYear:{regex:RegExp("^"+j,"i"),name:"datenoyear",callback:function(e,t,n){return this.ymd(this.y,$(t),+n)}},dateNoYearRev:{regex:RegExp("^"+v+"[ .\\t-]*"+A,"i"),name:"datenoyearrev",callback:function(e,t,n){return this.ymd(this.y,$(n),+t)}},isoWeekDay:{regex:RegExp("^"+b+"-?W(0[1-9]|[1-4][0-9]|5[0-3])(?:-?([0-7]))?"),name:"isoweekday | isoweek",callback:function(e,t,n,r){if(r=r?+r:1,!this.ymd(+t,0,1))return!1;var s=new Date(this.y,this.m,this.d).getDay();s=0-(s>4?s-7:s),this.rd+=s+7*(n-1)+r}},relativeText:{regex:RegExp("^("+g+"|"+m+")"+t+"("+y+")","i"),name:"relativetext",callback:function(e,t,n){var r,s={amount:{last:-1,previous:-1,this:0,first:1,next:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eight:8,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12}[r=t.toLowerCase()],behavior:{this:1}[r]||0}.amount;switch(n.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=s;break;case"min":case"mins":case"minute":case"minutes":this.ri+=s;break;case"hour":case"hours":this.rh+=s;break;case"day":case"days":this.rd+=s;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*s;break;case"week":case"weeks":this.rd+=7*s;break;case"month":case"months":this.rm+=s;break;case"year":case"years":this.ry+=s;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=P(n,7),this.weekdayBehavior=1,this.rd+=7*(s>0?s-1:s)}}},relative:{regex:RegExp("^([+-]*)[ \\t]*(\\d+)"+n+"("+y+"|week)","i"),name:"relative",callback:function(e,t,n,r){var s=t.replace(/[^-]/g,"").length,i=+n*Math.pow(-1,s);switch(r.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=i;break;case"min":case"mins":case"minute":case"minutes":this.ri+=i;break;case"hour":case"hours":this.rh+=i;break;case"day":case"days":this.rd+=i;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=14*i;break;case"week":case"weeks":this.rd+=7*i;break;case"month":case"months":this.rm+=i;break;case"year":case"years":this.ry+=i;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=P(r,7),this.weekdayBehavior=1,this.rd+=7*(i>0?i-1:i)}}},dayText:{regex:RegExp("^("+d+")","i"),name:"daytext",callback:function(e,t){this.resetTime(),this.weekday=P(t,0),2!==this.weekdayBehavior&&(this.weekdayBehavior=1)}},relativeTextWeek:{regex:RegExp("^("+m+")"+t+"week","i"),name:"relativetextweek",callback:function(e,t){switch(this.weekdayBehavior=2,t.toLowerCase()){case"this":this.rd+=0;break;case"next":this.rd+=7;break;case"last":case"previous":this.rd-=7}isNaN(this.weekday)&&(this.weekday=1)}},monthFullOrMonthAbbr:{regex:RegExp("^("+S+"|"+E+")","i"),name:"monthfull | monthabbr",callback:function(e,t){return this.ymd(this.y,$(t),this.d)}},tzCorrection:{regex:RegExp("^"+_,"i"),name:"tzcorrection",callback:function(e){return this.zone(N(e))}},tzAbbr:{regex:RegExp("^\\(?([a-zA-Z]{1,6})\\)?"),name:"tzabbr",callback:function(e,t){var n=z[t.toLowerCase()];return!isNaN(n)&&this.zone(n)}},ago:{regex:/^ago/i,name:"ago",callback:function(){this.ry=-this.ry,this.rm=-this.rm,this.rd=-this.rd,this.rh=-this.rh,this.ri=-this.ri,this.rs=-this.rs,this.rf=-this.rf}},year4:{regex:RegExp("^"+b),name:"year4",callback:function(e,t){return this.y=+t,!0}},whitespace:{regex:/^[ .,\t]+/,name:"whitespace"},dateShortWithTimeLong:{regex:RegExp("^"+j+"t?"+s+"[:.]"+a+"[:.]"+c,"i"),name:"dateshortwithtimelong",callback:function(e,t,n,r,s,i){return this.ymd(this.y,$(t),+n)&&this.time(+r,+s,+i,0)}},dateShortWithTimeLong12:{regex:RegExp("^"+j+o+"[:.]"+a+"[:.]"+p+n+r,"i"),name:"dateshortwithtimelong12",callback:function(e,t,n,r,s,i,o){return this.ymd(this.y,$(t),+n)&&this.time(R(+r,o),+s,+i,0)}},dateShortWithTimeShort:{regex:RegExp("^"+j+"t?"+s+"[:.]"+a,"i"),name:"dateshortwithtimeshort",callback:function(e,t,n,r,s){return this.ymd(this.y,$(t),+n)&&this.time(+r,+s,0,0)}},dateShortWithTimeShort12:{regex:RegExp("^"+j+o+"[:.]"+l+n+r,"i"),name:"dateshortwithtimeshort12",callback:function(e,t,n,r,s,i){return this.ymd(this.y,$(t),+n)&&this.time(R(+r,i),+s,0,0)}}},C={y:NaN,m:NaN,d:NaN,h:NaN,i:NaN,s:NaN,f:NaN,ry:0,rm:0,rd:0,rh:0,ri:0,rs:0,rf:0,weekday:NaN,weekdayBehavior:0,firstOrLastDayOfMonth:0,z:NaN,dates:0,times:0,zones:0,ymd:function(e,t,n){return!(this.dates>0||(this.dates++,this.y=e,this.m=t,this.d=n,0))},time:function(e,t,n,r){return!(this.times>0||(this.times++,this.h=e,this.i=t,this.s=n,this.f=r,0))},resetTime:function(){return this.h=0,this.i=0,this.s=0,this.f=0,this.times=0,!0},zone:function(e){return this.zones<=1&&(this.zones++,this.z=e,!0)},toDate:function(e){switch(this.dates&&!this.times&&(this.h=this.i=this.s=this.f=0),isNaN(this.y)&&(this.y=e.getFullYear()),isNaN(this.m)&&(this.m=e.getMonth()),isNaN(this.d)&&(this.d=e.getDate()),isNaN(this.h)&&(this.h=e.getHours()),isNaN(this.i)&&(this.i=e.getMinutes()),isNaN(this.s)&&(this.s=e.getSeconds()),isNaN(this.f)&&(this.f=e.getMilliseconds()),this.firstOrLastDayOfMonth){case 1:this.d=1;break;case-1:this.d=0,this.m+=1}if(!isNaN(this.weekday)){var t=new Date(e.getTime());t.setFullYear(this.y,this.m,this.d),t.setHours(this.h,this.i,this.s,this.f);var n=t.getDay();if(2===this.weekdayBehavior)0===n&&0!==this.weekday&&(this.weekday=-6),0===this.weekday&&0!==n&&(this.weekday=7),this.d-=n,this.d+=this.weekday;else{var r=this.weekday-n;(this.rd<0&&r<0||this.rd>=0&&r<=-this.weekdayBehavior)&&(r+=7),this.weekday>=0?this.d+=r:this.d-=7-(Math.abs(this.weekday)-n),this.weekday=NaN}}this.y+=this.ry,this.m+=this.rm,this.d+=this.rd,this.h+=this.rh,this.i+=this.ri,this.s+=this.rs,this.f+=this.rf,this.ry=this.rm=this.rd=0,this.rh=this.ri=this.rs=this.rf=0;var s=new Date(e.getTime());switch(s.setFullYear(this.y,this.m,this.d),s.setHours(this.h,this.i,this.s,this.f),this.firstOrLastDayOfMonth){case 1:s.setDate(1);break;case-1:s.setMonth(s.getMonth()+1,0)}return isNaN(this.z)||s.getTimezoneOffset()===this.z||(s.setUTCFullYear(s.getFullYear(),s.getMonth(),s.getDate()),s.setUTCHours(s.getHours(),s.getMinutes(),s.getSeconds()-this.z,s.getMilliseconds())),s}};e.exports=function(e,t){null==t&&(t=Math.floor(Date.now()/1e3));for(var n=[M.yesterday,M.now,M.noon,M.midnightOrToday,M.tomorrow,M.timestamp,M.firstOrLastDay,M.backOrFrontOf,M.timeTiny12,M.timeShort12,M.timeLong12,M.mssqltime,M.oracledate,M.timeShort24,M.timeLong24,M.iso8601long,M.gnuNoColon,M.iso8601noColon,M.americanShort,M.american,M.iso8601date4,M.iso8601dateSlash,M.dateSlash,M.gnuDateShortOrIso8601date2,M.gnuDateShorter,M.dateFull,M.pointedDate4,M.pointedDate2,M.dateNoDay,M.dateNoDayRev,M.dateTextual,M.dateNoYear,M.dateNoYearRev,M.dateNoColon,M.xmlRpc,M.xmlRpcNoColon,M.soap,M.wddx,M.exif,M.pgydotd,M.isoWeekDay,M.pgTextShort,M.pgTextReverse,M.clf,M.year4,M.ago,M.dayText,M.relativeTextWeek,M.relativeText,M.monthFullOrMonthAbbr,M.tzCorrection,M.tzAbbr,M.dateShortWithTimeShort12,M.dateShortWithTimeLong12,M.dateShortWithTimeShort,M.dateShortWithTimeLong,M.relative,M.whitespace],r=Object.create(C);e.length;){for(var s=null,i=null,o=0,a=n.length;o<a;o++){var l=n[o],c=e.match(l.regex);c&&(!s||c[0].length>s[0].length)&&(s=c,i=l)}if(!i||i.callback&&!1===i.callback.apply(r,s))return!1;e=e.substr(s[0].length),i=null,s=null}return Math.floor(r.toDate(new Date(1e3*t))/1e3)}},731:e=>{"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){var e,n=void 0,r=void 0,s=0,i=arguments,o=i.length,a=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},l=function e(n,r){var s=0,i=0,o=0,l=0,c=0;if(n===r)return 0;if("object"===(void 0===n?"undefined":t(n))){if("object"===(void 0===r?"undefined":t(r))){if(n=a(n),r=a(r),c=n.length,(l=r.length)>c)return 1;if(l<c)return-1;for(s=0,i=c;s<i;++s){if(1===(o=e(n[s],r[s])))return 1;if(-1===o)return-1}return 0}return-1}return"object"===(void 0===r?"undefined":t(r))?1:isNaN(r)&&!isNaN(n)?0===n?0:n<0?1:-1:isNaN(n)&&!isNaN(r)?0===r?0:r>0?1:-1:r===n?0:r>n?1:-1};if(0===o)throw new Error("At least one value should be passed to max()");if(1===o){if("object"!==t(i[0]))throw new Error("Wrong parameter count for max()");if(0===(n=a(i[0])).length)throw new Error("Array must contain at least one element for max()")}else n=i;for(r=n[0],s=1,e=n.length;s<e;++s)1===l(r,n[s])&&(r=n[s]);return r}},729:e=>{"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){var e,n=void 0,r=void 0,s=0,i=arguments,o=i.length,a=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},l=function e(n,r){var s=0,i=0,o=0,l=0,c=0;if(n===r)return 0;if("object"===(void 0===n?"undefined":t(n))){if("object"===(void 0===r?"undefined":t(r))){if(n=a(n),r=a(r),c=n.length,(l=r.length)>c)return 1;if(l<c)return-1;for(s=0,i=c;s<i;++s){if(1===(o=e(n[s],r[s])))return 1;if(-1===o)return-1}return 0}return-1}return"object"===(void 0===r?"undefined":t(r))?1:isNaN(r)&&!isNaN(n)?0===n?0:n<0?1:-1:isNaN(n)&&!isNaN(r)?0===r?0:r>0?1:-1:r===n?0:r>n?1:-1};if(0===o)throw new Error("At least one value should be passed to min()");if(1===o){if("object"!==t(i[0]))throw new Error("Wrong parameter count for min()");if(0===(n=a(i[0])).length)throw new Error("Array must contain at least one element for min()")}else n=i;for(r=n[0],s=1,e=n.length;s<e;++s)-1===l(r,n[s])&&(r=n[s]);return r}},925:(e,t,n)=>{"use strict";function r(e,t){var n=Math.floor(Math.abs(e)+.5);return("PHP_ROUND_HALF_DOWN"===t&&e===n-.5||"PHP_ROUND_HALF_EVEN"===t&&e===.5+2*Math.floor(n/2)||"PHP_ROUND_HALF_ODD"===t&&e===.5+2*Math.floor(n/2)-1)&&(n-=1),e<0?-n:n}e.exports=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"PHP_ROUND_HALF_UP",o=n(811),a=n(308);if(e=o(e),s=a(s),t=Math.pow(10,s),isNaN(e)||!isFinite(e))return e;if(Math.trunc(e)===e&&s>=0)return e;var l=14-Math.floor(Math.log10(Math.abs(e)));return l>s&&l-15<s?(e=r(e*Math.pow(10,l),i),e/=Math.pow(10,Math.abs(s-l))):e*=t,(e=r(e,i))/t}},757:e=>{"use strict";e.exports=function(){var e=arguments,t=0,n=e[t++],r=function(e,t,n,r){n||(n=" ");var s=e.length>=t?"":new Array(1+t-e.length>>>0).join(n);return r?e+s:s+e},s=function(e,t,n,s,i){var o=s-e.length;return o>0&&(e=n||"0"!==i?r(e,s,i,n):[e.slice(0,t.length),r("",o,"0",!0),e.slice(t.length)].join("")),e},i=function(e,t,n,i,o,a){return e=r((e>>>0).toString(t),o||0,"0",!1),s(e,"",n,i,a)},o=function(e,t,n,r,i){return null!=r&&(e=e.slice(0,r)),s(e,"",t,n,i)};try{return n.replace(/%%|%(?:(\d+)\$)?((?:[-+#0 ]|'[\s\S])*)(\d+)?(?:\.(\d*))?([\s\S])/g,(function(n,a,l,c,p,u){var h=void 0,f=void 0,d=void 0,g=void 0,m=void 0;if("%%"===n)return"%";var y,x=" ",b=!1,k="",w=void 0;for(w=0,y=l.length;w<y;w++)switch(l.charAt(w)){case" ":case"0":x=l.charAt(w);break;case"+":k="+";break;case"-":b=!0;break;case"'":w+1<y&&(x=l.charAt(w+1),w++)}if(c=c?+c:0,!isFinite(c))throw new Error("Width must be finite");if(p=p?+p:"d"===u?0:"fFeE".indexOf(u)>-1?6:void 0,a&&0==+a)throw new Error("Argument number must be greater than zero");if(a&&+a>=e.length)throw new Error("Too few arguments");switch(m=a?e[+a]:e[t++],u){case"%":return"%";case"s":return o(m+"",b,c,p,x);case"c":return o(String.fromCharCode(+m),b,c,p,x);case"b":return i(m,2,b,c,p,x);case"o":return i(m,8,b,c,p,x);case"x":return i(m,16,b,c,p,x);case"X":return i(m,16,b,c,p,x).toUpperCase();case"u":return i(m,10,b,c,p,x);case"i":case"d":return h=+m||0,m=(f=(h=Math.round(h-h%1))<0?"-":k)+r(String(Math.abs(h)),p,"0",!1),b&&"0"===x&&(x=" "),s(m,f,b,c,x);case"e":case"E":case"f":case"F":case"g":case"G":return f=(h=+m)<0?"-":k,d=["toExponential","toFixed","toPrecision"]["efg".indexOf(u.toLowerCase())],g=["toString","toUpperCase"]["eEfFgG".indexOf(u)%2],m=f+Math.abs(h)[d](p),s(m,f,b,c,x)[g]();default:return""}}))}catch(e){return!1}}},133:(e,t,n)=>{"use strict";e.exports=function(e,t){var r=n(76);t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var s=/<\/?([a-z0-9]*)\b[^>]*>?/gi,i=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,o=r(e);for(o="<"===o.substring(o.length-1)?o.substring(0,o.length-1):o;;){var a=o;if(o=a.replace(i,"").replace(s,(function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})),a===o)return o}}},855:(e,t,n)=>{"use strict";e.exports=function(e,t){return n(757).apply(this,[e].concat(t))}},303:e=>{"use strict";e.exports=function(e){return!1!==e&&0!==e&&0!==e&&""!==e&&"0"!==e&&(!Array.isArray(e)||0!==e.length)&&null!=e}},102:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",s=0,i=-1,o=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(i===a-1||1===o);else if(i!==a-1&&2===o){if(r.length<2||2!==s||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",s=0):s=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),i=a,o=0;continue}}else if(2===r.length||1===r.length){r="",s=0,i=a,o=0;continue}t&&(r.length>0?r+="/..":r="..",s=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),s=a-i-1;i=a,o=0}else 46===n&&-1!==o?++o:o=-1}return r}var r={resolve:function(){for(var e,r="",s=!1,i=arguments.length-1;i>=-1&&!s;i--){var o;i>=0?o=arguments[i]:(void 0===e&&(e=process.cwd()),o=e),t(o),0!==o.length&&(r=o+"/"+r,s=47===o.charCodeAt(0))}return r=n(r,!s),s?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),s=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&s&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var s=arguments[n];t(s),s.length>0&&(void 0===e?e=s:e+="/"+s)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var s=1;s<e.length&&47===e.charCodeAt(s);++s);for(var i=e.length,o=i-s,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var l=n.length-a,c=o<l?o:l,p=-1,u=0;u<=c;++u){if(u===c){if(l>c){if(47===n.charCodeAt(a+u))return n.slice(a+u+1);if(0===u)return n.slice(a+u)}else o>c&&(47===e.charCodeAt(s+u)?p=u:0===u&&(p=0));break}var h=e.charCodeAt(s+u);if(h!==n.charCodeAt(a+u))break;47===h&&(p=u)}var f="";for(u=s+p+1;u<=i;++u)u!==i&&47!==e.charCodeAt(u)||(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(a+p):(a+=p,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,s=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(n=e.charCodeAt(o))){if(!i){s=o;break}}else i=!1;return-1===s?r?"/":".":r&&1===s?"//":e.slice(0,s)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,s=0,i=-1,o=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!o){s=r+1;break}}else-1===l&&(o=!1,l=r+1),a>=0&&(c===n.charCodeAt(a)?-1==--a&&(i=r):(a=-1,i=l))}return s===i?i=l:-1===i&&(i=e.length),e.slice(s,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!o){s=r+1;break}}else-1===i&&(o=!1,i=r+1);return-1===i?"":e.slice(s,i)},extname:function(e){t(e);for(var n=-1,r=0,s=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===s&&(i=!1,s=a+1),46===l?-1===n?n=a:1!==o&&(o=1):-1!==n&&(o=-1);else if(!i){r=a+1;break}}return-1===n||-1===s||0===o||1===o&&n===s-1&&n===r+1?"":e.slice(n,s)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,s=e.charCodeAt(0),i=47===s;i?(n.root="/",r=1):r=0;for(var o=-1,a=0,l=-1,c=!0,p=e.length-1,u=0;p>=r;--p)if(47!==(s=e.charCodeAt(p)))-1===l&&(c=!1,l=p+1),46===s?-1===o?o=p:1!==u&&(u=1):-1!==o&&(u=-1);else if(!c){a=p+1;break}return-1===o||-1===l||0===u||1===u&&o===l-1&&o===a+1?-1!==l&&(n.base=n.name=0===a&&i?e.slice(1,l):e.slice(a,l)):(0===a&&i?(n.name=e.slice(1,o),n.base=e.slice(1,l)):(n.name=e.slice(a,o),n.base=e.slice(a,l)),n.ext=e.slice(o,l)),a>0?n.dir=e.slice(0,a-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},719:e=>{e.exports=function(e){"use strict";return e.ParseState.prototype.parseAsync=function(e,t){return this.parse(e,t,!0)},e.expression.parseAsync=function(t,n,r){return e.expression.parse.call(this,t,n,r,!0)},e.logic.parseAsync=function(t,n,r){return e.logic.parse.call(this,t,n,r,!0)},e.Template.prototype.renderAsync=function(e,t){return this.render(e,t,!0)},e.async={},e.isPromise=function(e){return e&&e.then&&"function"==typeof e.then},e.async.potentiallyAsync=function(t,n,r){return n?e.Promise.resolve(r.call(t)):function(t,n,r){let s=r.call(t),i=null,o=!0;if(!e.isPromise(s))return s;if(s.then((e=>{s=e,o=!1})).catch((e=>{i=e})),null!==i)throw i;if(o)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return s}(t,0,r)},e.Thenable=function(e,t,n){this.then=e,this._value=n?t:null,this._state=n||0},e.Thenable.prototype.catch=function(e){return 1===this._state?this:this.then(null,e)},e.Thenable.resolvedThen=function(t){try{return e.Promise.resolve(t(this._value))}catch(t){return e.Promise.reject(t)}},e.Thenable.rejectedThen=function(t,n){if(!n||"function"!=typeof n)return this;const r=this._value;let s;try{s=n(r)}catch(t){s=e.Promise.reject(t)}return e.Promise.resolve(s)},e.Promise=function(t){let n=0,r=null,s=function(e,t){n=e,r=t};return function(e,t,n){try{e((function(e){s(1,e)}),n)}catch(e){n(e)}}(t,0,(function(e){s(2,e)})),1===n?e.Promise.resolve(r):2===n?e.Promise.reject(r):(s=new e.FullPromise,s.promise)},e.FullPromise=function(){let t=null;function n(e){e(o._value)}function r(e,t){t(o._value)}let s=function(e,n){t=function(e,t,n){const r=[t,n,-2];return e?-2===e[2]?e=[e,r]:e.push(r):e=r,e}(t,e,n)};function i(e,i){if(!o._state&&(o._value=i,o._state=e,s=1===e?n:r,t)){if(-2===t[2])return s(t[0],t[1]),void(t=null);t.forEach((e=>{s(e[0],e[1])})),t=null}}const o=new e.Thenable(((t,n)=>{const r="function"==typeof t;if(1===o._state&&!r)return e.Promise.resolve(o._value);if(1===o._state)try{return e.Promise.resolve(t(o._value))}catch(t){return e.Promise.reject(t)}const i="function"==typeof n;return new e.Promise(((e,o)=>{s(r?n=>{try{e(t(n))}catch(e){o(e)}}:e,i?t=>{try{e(n(t))}catch(e){o(e)}}:o)}))}));return i.promise=o,i},e.Promise.defaultResolved=new e.Thenable(e.Thenable.resolvedThen,void 0,1),e.Promise.emptyStringResolved=new e.Thenable(e.Thenable.resolvedThen,"",1),e.Promise.resolve=function(t){return 0===arguments.length||void 0===t?e.Promise.defaultResolved:e.isPromise(t)?t:""===t?e.Promise.emptyStringResolved:new e.Thenable(e.Thenable.resolvedThen,t,1)},e.Promise.reject=function(t){return new e.Thenable(e.Thenable.rejectedThen,t,2)},e.Promise.all=function(t){const n=new Array(t.length);return e.async.forEach(t,((t,r)=>{if(e.isPromise(t)){if(1!==t._state)return t.then((e=>{n[r]=e}));n[r]=t._value}else n[r]=t})).then((()=>n))},e.async.forEach=function(t,n){const r=t?t.length:0;let s=0;return function i(){let o=null;do{if(s===r)return e.Promise.resolve();o=n(t[s],s),s++}while(!o||!e.isPromise(o)||1===o._state);return o.then(i)}()},e}},506:e=>{e.exports=function(e){return e.compiler={module:{}},e.compiler.compile=function(t,n){const r=JSON.stringify(t.tokens),{id:s}=t;let i=null;if(n.module){if(void 0===e.compiler.module[n.module])throw new e.Error("Unable to find module type "+n.module);i=e.compiler.module[n.module](s,r,n.twig)}else i=e.compiler.wrap(s,r);return i},e.compiler.module={amd:(t,n,r)=>'define(["'+r+'"], function (Twig) {\n\tvar twig, templates;\ntwig = Twig.twig;\ntemplates = '+e.compiler.wrap(t,n)+"\n\treturn templates;\n});",node:(t,n)=>'var twig = require("twig").twig;\nexports.template = '+e.compiler.wrap(t,n),cjs2:(t,n,r)=>'module.declare([{ twig: "'+r+'" }], function (require, exports, module) {\n\tvar twig = require("twig").twig;\n\texports.template = '+e.compiler.wrap(t,n)+"\n});"},e.compiler.wrap=function(e,t){return'twig({id:"'+e.replace('"','\\"')+'", data:'+t+", precompiled: true});\n"},e}},24:e=>{e.exports=function(e){"use strict";function t(t,n){if(t.template.options.rethrow)throw"string"==typeof n&&(n=new e.Error(n)),"TwigException"!==n.type||n.file||(n.file=t.template.id),n;if(e.log.error("Error parsing twig template "+t.template.id+": "),n.stack?e.log.error(n.stack):e.log.error(n.toString()),e.debug)return n.toString()}return e.trace=!1,e.debug=!1,e.cache=!0,e.noop=function(){},e.merge=function(e,t,n){return Object.keys(t).forEach((r=>{n&&!(r in e)||(e[r]=t[r])})),e},e.Error=function(e,t){this.message=e,this.name="TwigException",this.type="TwigException",this.file=t},e.Error.prototype.toString=function(){return this.name+": "+this.message},e.log={trace(...t){e.trace&&console&&console.log(Array.prototype.slice.call(t))},debug(...t){e.debug&&console&&console.log(Array.prototype.slice.call(t))}},"undefined"==typeof console?e.log.error=function(){}:void 0!==console.error?e.log.error=function(...e){console.error(...e)}:void 0!==console.log&&(e.log.error=function(...e){console.log(...e)}),e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",outputWhitespacePre:"output_whitespace_pre",outputWhitespacePost:"output_whitespace_post",outputWhitespaceBoth:"output_whitespace_both",logicWhitespacePre:"logic_whitespace_pre",logicWhitespacePost:"logic_whitespace_post",logicWhitespaceBoth:"logic_whitespace_both"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:e.token.type.outputWhitespacePre,open:"{{-",close:"}}"},{type:e.token.type.outputWhitespacePost,open:"{{",close:"-}}"},{type:e.token.type.outputWhitespaceBoth,open:"{{-",close:"-}}"},{type:e.token.type.logicWhitespacePre,open:"{%-",close:"%}"},{type:e.token.type.logicWhitespacePost,open:"{%",close:"-%}"},{type:e.token.type.logicWhitespaceBoth,open:"{%-",close:"-%}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(t){const n={position:null,def:null};let r=null;const s=e.token.definitions.length;let i,o,a,l;for(i=0;i<s;i++)o=e.token.definitions[i],a=t.indexOf(o.open),l=t.indexOf(o.close),e.log.trace("Twig.token.findStart: ","Searching for ",o.open," found at ",a),a>=0&&o.open.length!==o.close.length&&l<0||(a>=0&&(null===n.position||a<n.position)?(n.position=a,n.def=o,r=l):a>=0&&null!==n.position&&a===n.position&&(o.open.length>n.def.open.length?(n.position=a,n.def=o,r=l):o.open.length===n.def.open.length&&(o.close.length,n.def.close.length,l>=0&&l<r&&(n.position=a,n.def=o,r=l))));return n},e.token.findEnd=function(t,n,r){let s,i,o=null,a=!1,l=0,c=null,p=null,u=null,h=null,f=null,d=null;for(;!a;){if(c=null,p=null,u=t.indexOf(n.close,l),!(u>=0))throw new e.Error("Unable to find closing bracket '"+n.close+"' opened near template position "+r);if(o=u,a=!0,n.type===e.token.type.comment)break;if(n.type===e.token.type.raw)break;for(i=e.token.strings.length,s=0;s<i;s+=1)f=t.indexOf(e.token.strings[s],l),f>0&&f<u&&(null===c||f<c)&&(c=f,p=e.token.strings[s]);if(null!==c)for(h=c+1,o=null,a=!1;;){if(d=t.indexOf(p,h),d<0)throw e.Error("Unclosed string in template");if("\\"!==t.slice(d-1,d)){l=d+1;break}h=d+1}}return o},e.tokenize=function(t){const n=[];let r=0,s=null,i=null;for(;t.length>0;)if(s=e.token.findStart(t),e.log.trace("Twig.tokenize: ","Found token: ",s),null===s.position)n.push({type:e.token.type.raw,value:t,position:{start:r,end:r+s.position}}),t="";else{if(s.position>0&&n.push({type:e.token.type.raw,value:t.slice(0,Math.max(0,s.position)),position:{start:r,end:r+Math.max(0,s.position)}}),t=t.slice(s.position+s.def.open.length),r+=s.position+s.def.open.length,i=e.token.findEnd(t,s.def,r),e.log.trace("Twig.tokenize: ","Token ends at ",i),n.push({type:s.def.type,value:t.slice(0,Math.max(0,i)).trim(),position:{start:r-s.def.open.length,end:r+i+s.def.close.length}}),"\n"===t.slice(i+s.def.close.length,i+s.def.close.length+1))switch(s.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":i+=1}t=t.slice(i+s.def.close.length),r+=i+s.def.close.length}return n},e.compile=function(t){const n=this;try{const r=[],s=[];let i=[],o=null,a=null,l=null,c=null,p=null,u=null,h=null,f=null,d=null,g=null,m=null,y=null;const x=function(t){e.expression.compile.call(n,t),s.length>0?i.push(t):r.push(t)},b=function(t){if(a=e.logic.compile.call(n,t),a.position=t.position,g=a.type,m=e.logic.handler[g].open,y=e.logic.handler[g].next,e.log.trace("Twig.compile: ","Compiled logic token to ",a," next is: ",y," open is : ",m),void 0!==m&&!m){if(c=s.pop(),h=e.logic.handler[c.type],!h.next.includes(g))throw new Error(g+" not expected after a "+c.type);c.output=c.output||[],c.output=c.output.concat(i),i=[],d={type:e.token.type.logic,token:c,position:{open:c.position,close:t.position}},s.length>0?i.push(d):r.push(d)}void 0!==y&&y.length>0?(e.log.trace("Twig.compile: ","Pushing ",a," to logic stack."),s.length>0&&(c=s.pop(),c.output=c.output||[],c.output=c.output.concat(i),s.push(c),i=[]),s.push(a)):void 0!==m&&m&&(d={type:e.token.type.logic,token:a,position:a.position},s.length>0?i.push(d):r.push(d))};for(;t.length>0;){switch(o=t.shift(),p=r[r.length-1],u=i[i.length-1],f=t[0],e.log.trace("Compiling token ",o),o.type){case e.token.type.raw:s.length>0?i.push(o):r.push(o);break;case e.token.type.logic:b.call(n,o);break;case e.token.type.comment:break;case e.token.type.output:x.call(n,o);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:switch(o.type!==e.token.type.outputWhitespacePost&&o.type!==e.token.type.logicWhitespacePost&&(p&&p.type===e.token.type.raw&&(r.pop(),p.value=p.value.trimEnd(),r.push(p)),u&&u.type===e.token.type.raw&&(i.pop(),u.value=u.value.trimEnd(),i.push(u))),o.type){case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:x.call(n,o);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:b.call(n,o)}o.type!==e.token.type.outputWhitespacePre&&o.type!==e.token.type.logicWhitespacePre&&f&&f.type===e.token.type.raw&&(t.shift(),f.value=f.value.trimStart(),t.unshift(f))}e.log.trace("Twig.compile: "," Output: ",r," Logic Stack: ",s," Pending Output: ",i)}if(s.length>0)throw l=s.pop(),new Error("Unable to find an end tag for "+l.type+", expecting one of "+l.next);return r}catch(t){if(n.options.rethrow)throw"TwigException"!==t.type||t.file||(t.file=n.id),t;e.log.error("Error compiling twig template "+n.id+": "),t.stack?e.log.error(t.stack):e.log.error(t.toString())}},e.prepare=function(t){e.log.debug("Twig.prepare: ","Tokenizing ",t);const n=e.tokenize.call(this,t);e.log.debug("Twig.prepare: ","Compiling ",n);const r=e.compile.call(this,n);return e.log.debug("Twig.prepare: ","Compiled ",r),r},e.output=function(t){const{autoescape:n}=this.options;if(!n)return t.join("");const r="string"==typeof n?n:"html",s=t.map((t=>(!t||!0===t.twigMarkup||t.twigMarkup===r||"html"===r&&"html_attr"===t.twigMarkup||(t=e.filters.escape(t,[r])),t)));if(0===s.length)return"";const i=s.join("");return 0===i.length?"":new e.Markup(i,!0)},e.Templates={loaders:{},parsers:{},registry:{}},e.validateId=function(t){if("prototype"===t)throw new e.Error(t+" is not a valid twig identifier");if(e.cache&&Object.hasOwnProperty.call(e.Templates.registry,t))throw new e.Error("There is already a template with the ID "+t);return!0},e.Templates.registerLoader=function(t,n,r){if("function"!=typeof n)throw new e.Error("Unable to add loader for "+t+": Invalid function reference given.");r&&(n=n.bind(r)),this.loaders[t]=n},e.Templates.unRegisterLoader=function(e){this.isRegisteredLoader(e)&&delete this.loaders[e]},e.Templates.isRegisteredLoader=function(e){return Object.hasOwnProperty.call(this.loaders,e)},e.Templates.registerParser=function(t,n,r){if("function"!=typeof n)throw new e.Error("Unable to add parser for "+t+": Invalid function regerence given.");r&&(n=n.bind(r)),this.parsers[t]=n},e.Templates.unRegisterParser=function(e){this.isRegisteredParser(e)&&delete this.parsers[e]},e.Templates.isRegisteredParser=function(e){return Object.hasOwnProperty.call(this.parsers,e)},e.Templates.save=function(t){if(void 0===t.id)throw new e.Error("Unable to save template with no id");e.Templates.registry[t.id]=t},e.Templates.load=function(t){return Object.hasOwnProperty.call(e.Templates.registry,t)?e.Templates.registry[t]:null},e.Templates.loadRemote=function(t,n,r,s){const i=void 0===n.id?t:n.id,o=e.Templates.registry[i];return e.cache&&void 0!==o?("function"==typeof r&&r(o),o):(n.parser=n.parser||"twig",n.id=i,void 0===n.async&&(n.async=!0),(this.loaders[n.method]||this.loaders.fs).call(this,t,n,r,s))},e.Block=function(e,t){this.template=e,this.token=t},e.Block.prototype.render=function(t,n){const r=t.template;let s;return t.template=this.template,s=this.token.expression?e.expression.parseAsync.call(t,this.token.output,n):t.parseAsync(this.token.output,n),s.then((r=>e.expression.parseAsync.call(t,{type:e.expression.type.string,value:r},n))).then((e=>(t.template=r,e)))},e.ParseState=function(e,t,n){this.renderedBlocks={},this.overrideBlocks=void 0===t?{}:t,this.context=void 0===n?{}:n,this.macros={},this.nestingStack=[],this.template=e},e.ParseState.prototype.getBlock=function(e,t){let n;return!0!==t&&(n=this.overrideBlocks[e]),void 0===n&&(n=this.template.getBlock(e,t)),void 0===n&&null!==this.template.parentTemplate&&(n=this.template.parentTemplate.getBlock(e)),n},e.ParseState.prototype.getBlocks=function(e){let t={};return!1!==e&&null!==this.template.parentTemplate&&this.template.parentTemplate!==this.template&&(t=this.template.parentTemplate.getBlocks()),t={...t,...this.template.getBlocks(),...this.overrideBlocks},t},e.ParseState.prototype.getNestingStackToken=function(e){let t;return this.nestingStack.forEach((n=>{void 0===t&&n.type===e&&(t=n)})),t},e.ParseState.prototype.parse=function(n,r,s){const i=this;let o=[],a=null,l=!0,c=null,p=!0;function u(e){o.push(e)}function h(e){void 0!==e.chain&&(p=e.chain),void 0!==e.context&&(i.context=e.context),void 0!==e.output&&o.push(e.output)}if(r&&(i.context=r),c=e.async.forEach(n,(t=>{switch(e.log.debug("Twig.ParseState.parse: ","Parsing token: ",t),t.type){case e.token.type.raw:o.push(e.filters.raw(t.value));break;case e.token.type.logic:return e.logic.parseAsync.call(i,t.token,i.context,p).then(h);case e.token.type.comment:break;case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:case e.token.type.output:return e.log.debug("Twig.ParseState.parse: ","Output token: ",t.stack),e.expression.parseAsync.call(i,t.stack,i.context).then(u)}})).then((()=>(o=e.output.call(i.template,o),l=!1,o))).catch((e=>{s&&t(i,e),a=e})),s)return c;if(null!==a)return t(i,a);if(l)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return o},e.Template=function(t){const{data:n,id:r,base:s,path:i,url:o,name:a,method:l,options:c}=t;this.base=s,this.blocks={defined:{},imported:{}},this.id=r,this.method=l,this.name=a,this.options=c,this.parentTemplate=null,this.path=i,this.url=o,function(e,t){const n=Object.prototype.toString.call(t).slice(8,-1);return null!=t&&"String"===n}(0,n)?this.tokens=e.prepare.call(this,n):this.tokens=n,void 0!==r&&e.Templates.save(this)},e.Template.prototype.getBlock=function(e,t,n=!0){let r;return!0!==t&&(r=this.blocks.defined[e]),n&&void 0===r&&(r=this.blocks.imported[e]),void 0===r&&null!==this.parentTemplate&&(r=this.parentTemplate.getBlock(e,t,n=!1)),r},e.Template.prototype.getBlocks=function(){let e={};return e={...e,...this.blocks.imported,...this.blocks.defined},e},e.Template.prototype.render=function(t,n,r){const s=this;return n=n||{},e.async.potentiallyAsync(s,r,(()=>{const r=new e.ParseState(s,n.blocks,t);return r.parseAsync(s.tokens).then((t=>{let i,o;return null!==s.parentTemplate?(s.options.allowInlineIncludes&&(i=e.Templates.load(s.parentTemplate),i&&(i.options=s.options)),i||(o=e.path.parsePath(s,s.parentTemplate),i=e.Templates.loadRemote(o,{method:s.getLoaderMethod(),base:s.base,async:!1,id:o,options:s.options})),s.parentTemplate=i,s.parentTemplate.renderAsync(r.context,{blocks:r.getBlocks(!1),isInclude:!0})):!0===n.isInclude?t:t.valueOf()}))}))},e.Template.prototype.importFile=function(t){let n,r=null;if(!this.url&&this.options.allowInlineIncludes){if(t=this.path?e.path.parsePath(this,t):t,n=e.Templates.load(t),!n&&(n=e.Templates.loadRemote(r,{id:t,method:this.getLoaderMethod(),async:!1,path:t,options:this.options}),!n))throw new e.Error("Unable to find the template "+t);return n.options=this.options,n}return r=e.path.parsePath(this,t),n=e.Templates.loadRemote(r,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:r}),n},e.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},e.Template.prototype.compile=function(t){return e.compiler.compile(this,t)},e.Markup=function(e,t){if("string"!=typeof e)return e;const n=new String(e);return n.twigMarkup=void 0===t||t,n},e}},264:e=>{e.exports=function(e){"use strict";return e.exports={VERSION:e.VERSION},e.exports.twig=function(t){const{id:n}=t,r={strictVariables:t.strict_variables||!1,autoescape:null!==t.autoescape&&t.autoescape||!1,allowInlineIncludes:t.allowInlineIncludes||!1,rethrow:t.rethrow||!1,namespaces:t.namespaces};if(e.cache&&n&&e.validateId(n),void 0!==t.debug&&(e.debug=t.debug),void 0!==t.trace&&(e.trace=t.trace),void 0!==t.data)return e.Templates.parsers.twig({data:t.data,path:Object.hasOwnProperty.call(t,"path")?t.path:void 0,module:t.module,id:n,options:r});if(void 0!==t.ref){if(void 0!==t.id)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(t.ref)}if(void 0!==t.method){if(!e.Templates.isRegisteredLoader(t.method))throw new e.Error('Loader for "'+t.method+'" is not defined.');return e.Templates.loadRemote(t.name||t.href||t.path||n||void 0,{id:n,method:t.method,parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:r},t.load,t.error)}return void 0!==t.href?e.Templates.loadRemote(t.href,{id:n,method:"ajax",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:r},t.load,t.error):void 0!==t.path?e.Templates.loadRemote(t.path,{id:n,method:"fs",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:r},t.load,t.error):void 0},e.exports.extendFilter=function(t,n){e.filter.extend(t,n)},e.exports.extendFunction=function(t,n){e._function.extend(t,n)},e.exports.extendTest=function(t,n){e.test.extend(t,n)},e.exports.extendTag=function(t){e.logic.extend(t)},e.exports.extend=function(t){t(e)},e.exports.compile=function(t,n){const r=n.filename,s=n.filename,i=new e.Template({data:t,path:s,id:r,options:n.settings["twig options"]});return function(e){return i.render(e)}},e.exports.renderFile=function(t,n,r){"function"==typeof n&&(r=n,n={});const s=(n=n||{}).settings||{},i=s["twig options"],o={path:t,base:s.views,load(e){i&&i.allowAsync?e.renderAsync(n).then((e=>r(null,e)),r):r(null,String(e.render(n)))},error(e){r(e)}};if(i)for(const e in i)Object.hasOwnProperty.call(i,e)&&(o[e]=i[e]);e.exports.twig(o)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(t){e.cache=t},e.exports.path=e.path,e.exports.filters=e.filters,e.exports.tests=e.tests,e.exports.functions=e.functions,e.exports.Promise=e.Promise,e}},305:(e,t,n)=>{e.exports=function(e){"use strict";function t(t,n,r){return n?e.expression.parseAsync.call(t,n,r):e.Promise.resolve(!1)}for(e.expression={},n(415)(e),e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if","matches","starts","ends","with"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.subexpression.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start,e.expression.type.subexpression.start,e.expression.type.operator.unary]},e.expression.set.operationsExtended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets,e.expression.type.slice]),e.expression.fn={compile:{push(e,t,n){n.push(e)},pushBoth(e,t,n){n.push(e),t.push(e)}},parse:{push(e,t){t.push(e)},pushValue(e,t){t.push(e.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_]\w*(\s?(?:as|by))?)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile(e,t,n){e.filter=e.match[2],e.modifier=e.match[1],delete e.match,delete e.value,n.push(e)},parse(n,r,s){const i=r.pop();return t(this,n.params,s).then((t=>{const s=e.test(n.filter,i,t);"not"===n.modifier?r.push(!s):r.push(s)}))}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile(t,n,r){let s,i=n.length-1;for(delete t.match,delete t.value;i>=0;i--){if(s=n.pop(),s.type===e.expression.type.object.start||s.type===e.expression.type.parameter.start||s.type===e.expression.type.array.start){n.push(s);break}r.push(s)}r.push(t)}},{type:e.expression.type.number,regex:/^-?\d+(\.\d+)?/,next:e.expression.set.operations,compile(e,t,n){e.value=Number(e.value),n.push(e)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.operator.binary,regex:/(^\?\?|^\?:|^(b-and)|^(b-or)|^(b-xor)|^[+\-~%?]|^(<=>)|^[:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[(|\s+]|^(or)[(|\s+]|^(in)[(|\s+]|^(not in)[(|\s+]|^(matches)|^(starts with)|^(ends with)|^\.\.)/,next:e.expression.set.expressions,transform(e,t){switch(e[0]){case"and(":case"or(":case"in(":case"not in(":return t[t.length-1].value=e[2],e[0];default:return""}},compile(t,n,r){delete t.match,t.value=t.value.trim();const{value:s}=t,i=e.expression.operator.lookup(s,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",i," from ",s);n.length>0&&(n[n.length-1].type===e.expression.type.operator.unary||n[n.length-1].type===e.expression.type.operator.binary)&&(i.associativity===e.expression.operator.leftToRight&&i.precidence>=n[n.length-1].precidence||i.associativity===e.expression.operator.rightToLeft&&i.precidence>n[n.length-1].precidence);){const e=n.pop();r.push(e)}if(":"===s)if(n[n.length-1]&&"?"===n[n.length-1].value);else{const n=r.pop();if(n.type===e.expression.type.string||n.type===e.expression.type.variable)t.key=n.value;else if(n.type===e.expression.type.number)t.key=n.value.toString();else{if(!n.expression||n.type!==e.expression.type.parameter.end&&n.type!==e.expression.type.subexpression.end)throw new e.Error("Unexpected value before ':' of "+n.type+" = "+n.value);t.params=n.params}r.push(t)}else n.push(i)},parse(t,n,r){const s=this;if(t.key)n.push(t);else{if(t.params)return e.expression.parseAsync.call(s,t.params,r).then((e=>{t.key=e,n.push(t),r.loop||delete t.params}));e.expression.operator.parse(t.value,n)}}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile(t,n,r){delete t.match,t.value=t.value.trim();const{value:s}=t,i=e.expression.operator.lookup(s,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",i," from ",s);n.length>0&&(n[n.length-1].type===e.expression.type.operator.unary||n[n.length-1].type===e.expression.type.operator.binary)&&(i.associativity===e.expression.operator.leftToRight&&i.precidence>=n[n.length-1].precidence||i.associativity===e.expression.operator.rightToLeft&&i.precidence>n[n.length-1].precidence);){const e=n.pop();r.push(e)}n.push(i)},parse(t,n){e.expression.operator.parse(t.value,n)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:e.expression.set.operationsExtended,compile(t,n,r){let{value:s}=t;delete t.match,s='"'===s.slice(0,1)?s.replace('\\"','"'):s.replace("\\'","'"),t.value=s.slice(1,-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",t.value),r.push(t)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.subexpression.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.subexpression.end]),compile(e,t,n){e.value="(",n.push(e),t.push(e)},parse:e.expression.fn.parse.push},{type:e.expression.type.subexpression.end,regex:/^\)/,next:e.expression.set.operationsExtended,validate(t,n){let r=n.length-1,s=!1,i=!1,o=0;for(;!s&&r>=0;){const t=n[r];s=t.type===e.expression.type.subexpression.start,s&&i&&(i=!1,s=!1),t.type===e.expression.type.parameter.start?o++:t.type===e.expression.type.parameter.end?o--:t.type===e.expression.type.subexpression.end&&(i=!0),r--}return s&&0===o},compile(t,n,r){let s;const i=t;for(s=n.pop();n.length>0&&s.type!==e.expression.type.subexpression.start;)r.push(s),s=n.pop();const o=[];for(;t.type!==e.expression.type.subexpression.start;)o.unshift(t),t=r.pop();o.unshift(t),s=n[n.length-1],void 0===s||s.type!==e.expression.type._function&&s.type!==e.expression.type.filter&&s.type!==e.expression.type.test&&s.type!==e.expression.type.key.brackets?(i.expression=!0,o.pop(),o.shift(),i.params=o,r.push(i)):(i.expression=!1,s.params=o)},parse(t,n,r){if(t.expression)return e.expression.parseAsync.call(this,t.params,r).then((e=>{n.push(e)}));throw new e.Error("Unexpected subexpression end when token is not marked as an expression")}},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),validate(t,n){const r=n[n.length-1];return r&&!e.expression.reservedWords.includes(r.value.trim())},compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operationsExtended,compile(t,n,r){let s;const i=t;for(s=n.pop();n.length>0&&s.type!==e.expression.type.parameter.start;)r.push(s),s=n.pop();const o=[];for(;t.type!==e.expression.type.parameter.start;)o.unshift(t),t=r.pop();o.unshift(t),void 0===(t=r[r.length-1])||t.type!==e.expression.type._function&&t.type!==e.expression.type.filter&&t.type!==e.expression.type.test&&t.type!==e.expression.type.key.brackets?(i.expression=!0,o.pop(),o.shift(),i.params=o,r.push(i)):(i.expression=!1,t.params=o)},parse(t,n,r){const s=[];let i=!1,o=null;if(t.expression)return e.expression.parseAsync.call(this,t.params,r).then((e=>{n.push(e)}));for(;n.length>0;){if(o=n.pop(),o&&o.type&&o.type===e.expression.type.parameter.start){i=!0;break}s.unshift(o)}if(!i)throw new e.Error("Expected end of parameter set.");n.push(s)}},{type:e.expression.type.slice,regex:/^\[(-?\w*:-?\w*)\]/,next:e.expression.set.operationsExtended,compile(e,t,n){const r=e.match[1].split(":"),s=r[0],i=r[1];e.value="slice",e.params=[s,i],i||(e.params=[s]),n.push(e)},parse(t,n,r){const s=n.pop();let{params:i}=t;const o=this;if(parseInt(i[0],10).toString()===i[0])i[0]=parseInt(i[0],10);else{const t=r[i[0]];if(o.template.options.strictVariables&&void 0===t)throw new e.Error('Variable "'+i[0]+'" does not exist.');i[0]=t}if(i[1])if(parseInt(i[1],10).toString()===i[1])i[1]=parseInt(i[1],10);else{const t=r[i[1]];if(o.template.options.strictVariables&&void 0===t)throw new e.Error('Variable "'+i[1]+'" does not exist.');void 0===t?i=[i[0]]:i[1]=t}n.push(e.filter.call(o,t.value,s,i))}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operationsExtended,compile(t,n,r){let s,i=n.length-1;for(;i>=0&&(s=n.pop(),s.type!==e.expression.type.array.start);i--)r.push(s);r.push(t)},parse(t,n){const r=[];let s=!1,i=null;for(;n.length>0;){if(i=n.pop(),i&&i.type&&i.type===e.expression.type.array.start){s=!0;break}r.unshift(i)}if(!s)throw new e.Error("Expected end of array.");n.push(r)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operationsExtended,compile(t,n,r){let s,i=n.length-1;for(;i>=0&&(s=n.pop(),!s||s.type!==e.expression.type.object.start);i--)r.push(s);r.push(t)},parse(t,n){const r={};let s=!1,i=null,o=!1,a=null;for(;n.length>0;){if(i=n.pop(),i&&i.type&&i.type===e.expression.type.object.start){s=!0;break}if(i&&i.type&&(i.type===e.expression.type.operator.binary||i.type===e.expression.type.operator.unary)&&i.key){if(!o)throw new e.Error("Missing value for key '"+i.key+"' in object definition.");r[i.key]=a,void 0===r._keys&&(r._keys=[]),r._keys.unshift(i.key),a=null,o=!1}else o=!0,a=i}if(!s)throw new e.Error("Unexpected end of object.");n.push(r)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_-]*)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(e,t,n){e.value=e.match[1],n.push(e)},parse(n,r,s){const i=r.pop(),o=this;return t(o,n.params,s).then((t=>e.filter.call(o,n.value,i,t))).then((e=>{r.push(e)}))}},{type:e.expression.type._function,regex:/^([a-zA-Z_]\w*)\s*\(/,next:e.expression.type.parameter.start,validate:t=>t[1]&&!e.expression.reservedWords.includes(t[1]),transform:()=>"(",compile(e,t,n){const r=e.match[1];e.fn=r,delete e.match,delete e.value,n.push(e)},parse(n,r,s){const i=this,{fn:o}=n;let a;return t(i,n.params,s).then((t=>{if(e.functions[o])a=e.functions[o].apply(i,t);else{if("function"!=typeof s[o])throw new e.Error(o+" function does not exist and is not defined in the context");a=s[o](...t)}return a})).then((e=>{r.push(e)}))}},{type:e.expression.type.variable,regex:/^[a-zA-Z_]\w*/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate:t=>!e.expression.reservedWords.includes(t[0]),parse(t,n,r){const s=this;return e.expression.resolveAsync.call(s,r[t.value],r).then((r=>{if(s.template.options.strictVariables&&void 0===r)throw new e.Error('Variable "'+t.value+'" does not exist.');n.push(r)}))}},{type:e.expression.type.key.period,regex:/^\.(\w+)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(e,t,n){e.key=e.match[1],delete e.match,delete e.value,n.push(e)},parse(n,r,s,i){const o=this,{key:a}=n,l=r.pop();let c;if(l&&!Object.prototype.hasOwnProperty.call(l,a)&&o.template.options.strictVariables)throw Object.keys(l).length>0?new e.Error('Key "'+a+'" for object with keys "'+Object.keys(l).join(", ")+'" does not exist.'):new e.Error('Key "'+a+'" does not exist as the object is empty.');return t(o,n.params,s).then((t=>{if(null==l)c=void 0;else{const e=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)};c="object"==typeof l&&a in l?l[a]:l["get"+e(a)]?l["get"+e(a)]:l["is"+e(a)]?l["is"+e(a)]:void 0}return e.expression.resolveAsync.call(o,c,s,t,i,l)})).then((e=>{r.push(e)}))}},{type:e.expression.type.key.brackets,regex:/^\[([^\]]*)\]/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(t,n,r){const s=t.match[1];delete t.value,delete t.match,t.stack=e.expression.compile({value:s}).stack,r.push(t)},parse(n,r,s,i){const o=this;let a,l,c=null;return t(o,n.params,s).then((t=>(c=t,e.expression.parseAsync.call(o,n.stack,s)))).then((t=>{if(a=r.pop(),a&&!Object.prototype.hasOwnProperty.call(a,t)&&o.template.options.strictVariables){const n=Object.keys(a);throw n.length>0?new e.Error('Key "'+t+'" for array with keys "'+n.join(", ")+'" does not exist.'):new e.Error('Key "'+t+'" does not exist as the array is empty.')}return null==a?null:(l="object"==typeof a&&t in a?a[t]:null,e.expression.resolveAsync.call(o,l,a,c,i))})).then((e=>{r.push(e)}))}},{type:e.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:e.expression.set.operations,compile(e,t,n){delete e.match,e.value=null,n.push(e)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse(e,t,n){t.push(n)}},{type:e.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:e.expression.set.operations,compile(e,t,n){e.value="true"===e.match[0].toLowerCase(),delete e.match,n.push(e)},parse:e.expression.fn.parse.pushValue}],e.expression.resolveAsync=function(t,n,r,s,i){const o=this;if("function"!=typeof t)return e.Promise.resolve(t);let a=e.Promise.resolve(r);if(s&&s.type===e.expression.type.parameter.end){const t=!0;a=a.then((()=>s.params&&e.expression.parseAsync.call(o,s.params,n,t))).then((e=>(s.cleanup=!0,e)))}return a.then((e=>t.apply(i||n,e||[])))},e.expression.resolve=function(t,n,r,s,i){return e.async.potentiallyAsync(this,!1,(function(){return e.expression.resolveAsync.call(this,t,n,r,s,i)}))},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(t){let n=t.value;const r=[];let s,i,o,a,l,c=0,p=null,u=[];const h=function(...n){let i=arguments.length-2;const o=new Array(i);for(;i-- >0;)o[i]=n[i];if(e.log.trace("Twig.expression.tokenize","Matched a ",s," regular expression of ",o),p&&!p.includes(s))return u.push(s+" cannot follow a "+r[r.length-1].type+" at template:"+c+" near '"+o[0].slice(0,20)+"...'"),o[0];const h=e.expression.handler[s];if(h.validate&&!h.validate(o,r))return o[0];u=[];const f={type:s,value:o[0],match:o};return t.position&&(f.position=t.position),r.push(f),l=!0,p=a,c+=o[0].length,h.transform?h.transform(o,r):""};for(e.log.debug("Twig.expression.tokenize","Tokenizing expression ",n);n.length>0;){for(s in n=n.trim(),e.expression.handler)if(Object.hasOwnProperty.call(e.expression.handler,s)){if(a=e.expression.handler[s].next,i=e.expression.handler[s].regex,e.log.trace("Checking type ",s," on ",n),l=!1,Array.isArray(i))for(o=i.length;o-- >0;)n=n.replace(i[o],h);else n=n.replace(i,h);if(l)break}if(!l)throw u.length>0?new e.Error(u.join(" OR ")):new e.Error("Unable to parse '"+n+"' at template position"+c)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",r),r},e.expression.compile=function(t){const n=e.expression.tokenize(t);let r=null;const s=[],i=[];let o=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",t.value);n.length>0;)r=n.shift(),o=e.expression.handler[r.type],e.log.trace("Twig.expression.compile: ","Compiling ",r),o.compile(r,i,s),e.log.trace("Twig.expression.compile: ","Stack is",i),e.log.trace("Twig.expression.compile: ","Output is",s);for(;i.length>0;)s.push(i.pop());return e.log.trace("Twig.expression.compile: ","Final output is",s),t.stack=s,delete t.value,t},e.expression.parse=function(t,n,r,s){const i=this;Array.isArray(t)||(t=[t]);const o=[],a=[],l=e.expression.type.operator.binary;return e.async.potentiallyAsync(i,s,(()=>e.async.forEach(t,((r,s)=>{let c,p=null,u=null;if(!r.cleanup)return t.length>s+1&&(u=t[s+1]),p=e.expression.handler[r.type],p.parse&&(c=p.parse.call(i,r,o,n,u)),r.type===l&&n.loop&&a.push(r),c})).then((()=>{let e=a.length,t=null;for(;e-- >0;)t=a[e],t.params&&t.key&&delete t.key;if(r){const e=o.splice(0);o.push(e)}return o.pop()}))))},e}},415:e=>{e.exports=function(e){"use strict";e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};const t=function(e,t){if(null==t)return null;if(void 0!==t.indexOf)return(e===t||""!==e)&&t.includes(e);let n;for(n in t)if(Object.hasOwnProperty.call(t,n)&&t[n]===e)return!0;return!1};return e.expression.operator.lookup=function(t,n){switch(t){case"..":n.precidence=20,n.associativity=e.expression.operator.leftToRight;break;case",":n.precidence=18,n.associativity=e.expression.operator.leftToRight;break;case"?:":case"?":case":":n.precidence=16,n.associativity=e.expression.operator.rightToLeft;break;case"??":n.precidence=15,n.associativity=e.expression.operator.rightToLeft;break;case"or":n.precidence=14,n.associativity=e.expression.operator.leftToRight;break;case"and":n.precidence=13,n.associativity=e.expression.operator.leftToRight;break;case"b-or":n.precidence=12,n.associativity=e.expression.operator.leftToRight;break;case"b-xor":n.precidence=11,n.associativity=e.expression.operator.leftToRight;break;case"b-and":n.precidence=10,n.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":case"<=>":n.precidence=9,n.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":case"not in":case"in":case"matches":case"starts with":case"ends with":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":n.precidence=6,n.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":n.precidence=5,n.associativity=e.expression.operator.leftToRight;break;case"not":n.precidence=3,n.associativity=e.expression.operator.rightToLeft;break;default:throw new e.Error("Failed to lookup operator: "+t+" is an unknown operator.")}return n.operator=t,n},e.expression.operator.parse=function(n,r){let s,i,o;if(e.log.trace("Twig.expression.operator.parse: ","Handling ",n),"?"===n&&(o=r.pop()),i=r.pop(),"not"!==n&&(s=r.pop()),"in"!==n&&"not in"!==n&&"??"!==n&&(s&&Array.isArray(s)&&(s=s.length),"?"!==n&&i&&Array.isArray(i)&&(i=i.length)),"matches"===n&&i&&"string"==typeof i){const e=i.match(/^\/(.*)\/([gims]?)$/),t=e[1],n=e[2];i=new RegExp(t,n)}switch(n){case":":break;case"??":void 0===s&&(s=i,i=o,o=void 0),null!=s?r.push(s):r.push(i);break;case"?:":e.lib.boolval(s)?r.push(s):r.push(i);break;case"?":void 0===s&&(s=i,i=o,o=void 0),e.lib.boolval(s)?r.push(i):r.push(o);break;case"+":i=parseFloat(i),s=parseFloat(s),r.push(s+i);break;case"-":i=parseFloat(i),s=parseFloat(s),r.push(s-i);break;case"*":i=parseFloat(i),s=parseFloat(s),r.push(s*i);break;case"/":i=parseFloat(i),s=parseFloat(s),r.push(s/i);break;case"//":i=parseFloat(i),s=parseFloat(s),r.push(Math.floor(s/i));break;case"%":i=parseFloat(i),s=parseFloat(s),r.push(s%i);break;case"~":r.push((null!=s?s.toString():"")+(null!=i?i.toString():""));break;case"not":case"!":r.push(!e.lib.boolval(i));break;case"<=>":r.push(s===i?0:s<i?-1:1);break;case"<":r.push(s<i);break;case"<=":r.push(s<=i);break;case">":r.push(s>i);break;case">=":r.push(s>=i);break;case"===":r.push(s===i);break;case"==":r.push(s==i);break;case"!==":r.push(s!==i);break;case"!=":r.push(s!=i);break;case"or":r.push(e.lib.boolval(s)||e.lib.boolval(i));break;case"b-or":r.push(s|i);break;case"b-xor":r.push(s^i);break;case"and":r.push(e.lib.boolval(s)&&e.lib.boolval(i));break;case"b-and":r.push(s&i);break;case"**":r.push(s**i);break;case"not in":r.push(!t(s,i));break;case"in":r.push(t(s,i));break;case"matches":r.push(i.test(s));break;case"starts with":r.push("string"==typeof s&&0===s.indexOf(i));break;case"ends with":r.push("string"==typeof s&&s.includes(i,s.length-i.length));break;case"..":r.push(e.functions.range(s,i));break;default:throw new e.Error("Failed to parse operator: "+n+" is an unknown operator.")}},e}},973:(e,t,n)=>{e.exports=function e(){const t={VERSION:"1.17.1"};return n(24)(t),n(506)(t),n(305)(t),n(588)(t),n(158)(t),n(896)(t),n(510)(t),n(219)(t),n(93)(t),n(717)(t),n(373)(t),n(376)(t),n(490)(t),n(719)(t),n(264)(t),t.exports.factory=e,t.exports}},588:e=>{e.exports=function(e){function t(e,t){const n=Object.prototype.toString.call(t).slice(8,-1);return null!=t&&n===e}return e.filters={upper:e=>"string"!=typeof e?e:e.toUpperCase(),lower:e=>"string"!=typeof e?e:e.toLowerCase(),capitalize:e=>"string"!=typeof e?e:e.slice(0,1).toUpperCase()+e.toLowerCase().slice(1),title:e=>"string"!=typeof e?e:e.toLowerCase().replace(/(^|\s)([a-z])/g,((e,t,n)=>t+n.toUpperCase())),length:t=>e.lib.is("Array",t)||"string"==typeof t?t.length:e.lib.is("Object",t)?void 0===t._keys?Object.keys(t).length:t._keys.length:0,reverse(e){if(t("Array",e))return e.reverse();if(t("String",e))return e.split("").reverse().join("");if(t("Object",e)){const t=e._keys||Object.keys(e).reverse();return e._keys=t,e}},sort(e){if(t("Array",e))return e.sort();if(t("Object",e)){delete e._keys;const t=Object.keys(e).sort(((t,n)=>{let r,s;return e[t]>e[n]==!(e[t]<=e[n])?e[t]>e[n]?1:e[t]<e[n]?-1:0:isNaN(r=parseFloat(e[t]))||isNaN(s=parseFloat(e[n]))?"string"==typeof e[t]?e[t]>e[n].toString()?1:e[t]<e[n].toString()?-1:0:"string"==typeof e[n]?e[t].toString()>e[n]?1:e[t].toString()<e[n]?-1:0:null:r>s?1:r<s?-1:0}));return e._keys=t,e}},keys(e){if(null==e)return;const t=e._keys||Object.keys(e),n=[];return t.forEach((t=>{"_keys"!==t&&Object.hasOwnProperty.call(e,t)&&n.push(t)})),n},url_encode(t){if(null==t)return;if(e.lib.is("Object",t)){const n=function(t,r){const s=[];return(t._keys||Object.keys(t)).forEach((i=>{if(!Object.prototype.hasOwnProperty.call(t,i))return;const o=r?r+"["+i+"]":i,a=t[i];s.push(e.lib.is("Object",a)||Array.isArray(a)?n(a,o):encodeURIComponent(o)+"="+encodeURIComponent(a))})),s.join("&amp;")};return n(t)}let n=encodeURIComponent(t);return n=n.replace("'","%27"),n},join(e,n){if(null==e)return;let r="",s=[],i=null;return n&&n[0]&&(r=n[0]),t("Array",e)?s=e:(i=e._keys||Object.keys(e),i.forEach((t=>{"_keys"!==t&&Object.hasOwnProperty.call(e,t)&&s.push(e[t])}))),s.join(r)},default(t,n){if(void 0!==n&&n.length>1)throw new e.Error("default filter expects one argument");return null==t||""===t?void 0===n?"":n[0]:t},json_encode(n){if(null==n)return"null";if("object"==typeof n&&t("Array",n)){const t=[];return n.forEach((n=>{t.push(e.filters.json_encode(n))})),"["+t.join(",")+"]"}if("object"==typeof n&&t("Date",n))return'"'+n.toISOString()+'"';if("object"==typeof n){const t=n._keys||Object.keys(n),r=[];return t.forEach((t=>{r.push(JSON.stringify(t)+":"+e.filters.json_encode(n[t]))})),"{"+r.join(",")+"}"}return JSON.stringify(n)},merge(n,r){let s=[],i=0,o=[];if(t("Array",n)?r.forEach((e=>{t("Array",e)||(s={})})):s={},t("Array",s)||(s._keys=[]),t("Array",n)?n.forEach((e=>{s._keys&&s._keys.push(i),s[i]=e,i++})):(o=n._keys||Object.keys(n),o.forEach((e=>{s[e]=n[e],s._keys.push(e);const t=parseInt(e,10);!isNaN(t)&&t>=i&&(i=t+1)}))),r.forEach((e=>{t("Array",e)?e.forEach((e=>{s._keys&&s._keys.push(i),s[i]=e,i++})):(o=e._keys||Object.keys(e),o.forEach((t=>{s[t]||s._keys.push(t),s[t]=e[t];const n=parseInt(t,10);!isNaN(n)&&n>=i&&(i=n+1)})))})),0===r.length)throw new e.Error("Filter merge expects at least one parameter");return s},date(t,n){const r=e.functions.date(t),s=n&&Boolean(n.length)?n[0]:"F j, Y H:i";return e.lib.date(s.replace(/\\\\/g,"\\"),r)},date_modify(t,n){if(null==t)return;if(void 0===n||1!==n.length)throw new e.Error("date_modify filter expects 1 argument");const r=n[0];let s;return e.lib.is("Date",t)&&(s=e.lib.strtotime(r,t.getTime()/1e3)),e.lib.is("String",t)&&(s=e.lib.strtotime(r,e.lib.strtotime(t))),e.lib.is("Number",t)&&(s=e.lib.strtotime(r,t)),new Date(1e3*s)},replace(t,n){if(null==t)return;const r=n[0];let s;for(s in r)Object.hasOwnProperty.call(r,s)&&"_keys"!==s&&(t=e.lib.replaceAll(t,s,r[s]));return t},format(t,n){if(null!=t)return e.lib.vsprintf(t,n)},striptags(t,n){if(null!=t)return e.lib.stripTags(t,n)},escape(t,n){if(null==t||""===t)return;let r="html";if(n&&Boolean(n.length)&&!0!==n[0]&&(r=n[0]),"html"===r){const n=t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return new e.Markup(n,"html")}if("js"===r){const n=t.toString();let r="";for(let t=0;t<n.length;t++)if(n[t].match(/^[a-zA-Z0-9,._]$/))r+=n[t];else{const s=n.charAt(t),i=n.charCodeAt(t),o={"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};o[s]?r+=o[s]:r+=e.lib.sprintf("\\u%04s",i.toString(16).toUpperCase())}return new e.Markup(r,"js")}if("css"===r){const n=t.toString();let r="";for(let e=0;e<n.length;e++)n[e].match(/^[a-zA-Z0-9]$/)?r+=n[e]:r+="\\"+n.charCodeAt(e).toString(16).toUpperCase()+" ";return new e.Markup(r,"css")}if("url"===r){const n=e.filters.url_encode(t);return new e.Markup(n,"url")}if("html_attr"===r){const n=t.toString();let r="";for(let t=0;t<n.length;t++)if(n[t].match(/^[a-zA-Z0-9,.\-_]$/))r+=n[t];else if(n[t].match(/^[&<>"]$/))r+=n[t].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{const s=n.charCodeAt(t);r+=s<=31&&9!==s&&10!==s&&13!==s?"&#xFFFD;":s<128?e.lib.sprintf("&#x%02s;",s.toString(16).toUpperCase()):e.lib.sprintf("&#x%04s;",s.toString(16).toUpperCase())}return new e.Markup(r,"html_attr")}throw new e.Error("escape strategy unsupported")},e:(t,n)=>e.filters.escape(t,n),nl2br(t){if(null==t||""===t)return;const n="BACKSLASH_n_replace",r="<br />"+n;return t=e.filters.escape(t).replace(/\r\n/g,r).replace(/\r/g,r).replace(/\n/g,r),t=e.lib.replaceAll(t,n,"\n"),new e.Markup(t)},number_format(e,t){let n=e;const r=t&&t[0]?t[0]:void 0,s=t&&void 0!==t[1]?t[1]:".",i=t&&void 0!==t[2]?t[2]:",";n=String(n).replace(/[^0-9+\-Ee.]/g,"");const o=isFinite(Number(n))?Number(n):0,a=isFinite(Number(r))?Math.abs(r):0;let l="";return l=(a?function(e,t){const n=10**t;return String(Math.round(e*n)/n)}(o,a):String(Math.round(o))).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(l[1]||"").length<a&&(l[1]=l[1]||"",l[1]+=new Array(a-l[1].length+1).join("0")),l.join(s)},trim(e,t){if(null==e)return;let n,r=String(e);n=t&&t[0]?String(t[0]):" \n\r\t\f\v            ​\u2028\u2029　";for(let e=0;e<r.length;e++)if(!n.includes(r.charAt(e))){r=r.slice(Math.max(0,e));break}for(let e=r.length-1;e>=0;e--)if(!n.includes(r.charAt(e))){r=r.slice(0,Math.max(0,e+1));break}return n.includes(r.charAt(0))?"":r},truncate(e,t){let n=30,r=!1,s="...";if(e=String(e),t&&(t[0]&&(n=t[0]),t[1]&&(r=t[1]),t[2]&&(s=t[2])),e.length>n){if(r&&(n=e.indexOf(" ",n),-1===n))return e;e=e.slice(0,n)+s}return e},slice(t,n){if(null==t)return;if(void 0===n||0===n.length)throw new e.Error("slice filter expects at least 1 argument");const r=n[0]||0;let s=n.length>1?n[1]:t.length;const i=r>=0?r:Math.max(t.length+r,0);if(s<0&&(s=t.length-i+s),e.lib.is("Array",t)){const e=[];for(let n=i;n<i+s&&n<t.length;n++)e.push(t[n]);return e}if(e.lib.is("String",t))return t.slice(i,i+s);throw new e.Error("slice filter expects value to be an array or string")},abs(e){if(null!=e)return Math.abs(e)},first(e){if(t("Array",e))return e[0];if(t("Object",e)){if("_keys"in e)return e[e._keys[0]]}else if("string"==typeof e)return e.slice(0,1)},split(t,n){if(null!=t){if(void 0===n||0===n.length||n.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",t)){const e=n[0],r=n[1],s=t.split(e);if(void 0===r)return s;if(r<0)return t.split(e,s.length+r);const i=[];if(""===e)for(;s.length>0;){let e="";for(let t=0;t<r&&s.length>0;t++)e+=s.shift();i.push(e)}else{for(let e=0;e<r-1&&s.length>0;e++)i.push(s.shift());s.length>0&&i.push(s.join(e))}return i}throw new e.Error("split filter expects value to be a string")}},last(t){if(e.lib.is("Object",t)){let e;return e=void 0===t._keys?Object.keys(t):t._keys,t[e[e.length-1]]}return e.lib.is("Number",t)?t.toString().slice(-1):t[t.length-1]},raw:t=>new e.Markup(t||""),batch(t,n){let r=n.shift();const s=n.shift();let i,o;if(!e.lib.is("Array",t))throw new e.Error("batch filter expects items to be an array");if(!e.lib.is("Number",r))throw new e.Error("batch filter expects size to be a number");r=Math.ceil(r);const a=e.lib.chunkArray(t,r);if(s&&t.length%r!=0){for(i=a.pop(),o=r-i.length;o--;)i.push(s);a.push(i)}return a},round(t,n){const r=(n=n||[]).length>0?n[0]:0,s=n.length>1?n[1]:"common";if(t=parseFloat(t),r&&!e.lib.is("Number",r))throw new e.Error("round filter expects precision to be a number");if("common"===s)return e.lib.round(t,r);if(!e.lib.is("Function",Math[s]))throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[s](t*10**r)/10**r},spaceless:e=>e.replace(/>\s+</g,"><").trim()},e.filter=function(t,n,r){if(!e.filters[t])throw new e.Error("Unable to find filter "+t);return e.filters[t].call(this,n,r)},e.filter.extend=function(t,n){e.filters[t]=n},e}},158:e=>{e.exports=function(t){return t.functions={range(e,t,n){const r=[];let s,i;const o=n||1;let a=!1;if(isNaN(e)||isNaN(t)?isNaN(e)&&isNaN(t)?(a=!0,s=e.charCodeAt(0),i=t.charCodeAt(0)):(s=isNaN(e)?0:e,i=isNaN(t)?0:t):(s=parseInt(e,10),i=parseInt(t,10)),s>i)for(;s>=i;)r.push(a?String.fromCharCode(s):s),s-=o;else for(;s<=i;)r.push(a?String.fromCharCode(s):s),s+=o;return r},cycle:(e,t)=>e[t%e.length],dump(...e){const t=[...e],n="\n";let r=0,s="";const i=function(e){let t="";for(;e>0;)e--,t+="  ";return t},o=function(e){s+=i(r),"object"==typeof e?a(e):"function"==typeof e?s+="function()\n":"string"==typeof e?s+="string("+e.length+') "'+e+'"'+n:"number"==typeof e?s+="number("+e+")"+n:"boolean"==typeof e&&(s+="bool("+e+")"+n)},a=function(e){let t;if(null===e)s+="NULL\n";else if(void 0===e)s+="undefined\n";else if("object"==typeof e){for(t in s+=i(r)+typeof e,r++,s+="("+function(e){let t,n=0;for(t in e)Object.hasOwnProperty.call(e,t)&&n++;return n}(e)+") {"+n,e)Object.hasOwnProperty.call(e,t)&&(s+=i(r)+"["+t+"]=> "+n,o(e[t]));r--,s+=i(r)+"}"+n}else o(e)};return 0===t.length&&t.push(this.context),t.forEach((e=>{a(e)})),s},date(e){let n;if(null==e||""===e)n=new Date;else if(t.lib.is("Date",e))n=e;else if(t.lib.is("String",e))n=e.match(/^\d+$/)?new Date(1e3*e):new Date(1e3*t.lib.strtotime(e));else{if(!t.lib.is("Number",e))throw new t.Error("Unable to parse date "+e);n=new Date(1e3*e)}return n},block(e){const t=this,n=t.getBlock(e);if(void 0!==n)return n.render(t,t.context)},parent(){const e=this;return e.getBlock(e.getNestingStackToken(t.logic.type.block).blockName,!0).render(e,e.context)},attribute:(e,n,r)=>t.lib.is("Object",e)&&Object.hasOwnProperty.call(e,n)?"function"==typeof e[n]?e[n].apply(void 0,r):e[n]:e&&e[n]||void 0,max:(e,...n)=>t.lib.is("Object",e)?(delete e._keys,t.lib.max(e)):Reflect.apply(t.lib.max,null,[e,...n]),min:(e,...n)=>t.lib.is("Object",e)?(delete e._keys,t.lib.min(e)):Reflect.apply(t.lib.min,null,[e,...n]),template_from_string(e){return void 0===e&&(e=""),t.Templates.parsers.twig({options:this.template.options,data:e})},random(e){const n=2147483648;function r(e){const t=Math.floor(Math.random()*n),r=Math.min.call(null,0,e),s=Math.max.call(null,0,e);return r+Math.floor((s-r+1)*t/n)}if(t.lib.is("Number",e))return r(e);if(t.lib.is("String",e))return e.charAt(r(e.length-1));if(t.lib.is("Array",e))return e[r(e.length-1)];if(t.lib.is("Object",e)){const t=Object.keys(e);return e[t[r(t.length-1)]]}return r(2147483647)},source(n,r){const{namespaces:s}=this.template.options;let i,o=!1;const a=void 0!==e.exports&&"undefined"==typeof window;let l,c=n;s&&"object"==typeof s&&(c=t.path.expandNamespace(s,c)),l=a?"fs":"ajax";const p={id:n,path:c,method:l,parser:"source",async:!1,fetchTemplateSource:!0};void 0===r&&(r=!1);try{i=t.Templates.loadRemote(n,p),null==i?i="":o=!0}catch(e){t.log.debug("Twig.functions.source: ","Problem loading template  ",e)}return o||r?i:'Template "{name}" is not defined.'.replace("{name}",n)}},t._function=function(e,n,r){if(!t.functions[e])throw new t.Error("Unable to find function "+e);return t.functions[e](n,r)},t._function.extend=function(e,n){t.functions[e]=n},t}},741:(e,t,n)=>{e.exports=n(973)()},896:(e,t,n)=>{e.exports=function(e){return e.lib={},e.lib.sprintf=n(757),e.lib.vsprintf=n(855),e.lib.round=n(925),e.lib.max=n(731),e.lib.min=n(729),e.lib.stripTags=n(133),e.lib.strtotime=n(357),e.lib.date=n(440),e.lib.boolval=n(303),e.lib.is=function(e,t){if(null==t)return!1;switch(e){case"Array":return Array.isArray(t);case"Date":return t instanceof Date;case"String":return"string"==typeof t||t instanceof String;case"Number":return"number"==typeof t||t instanceof Number;case"Function":return"function"==typeof t;case"Object":return t instanceof Object;default:return!1}},e.lib.replaceAll=function(e,t,n){const r="string"==typeof e?e:e.toString(),s=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return r.replace(new RegExp(s,"g"),n)},e.lib.chunkArray=function(e,t){const n=[];let r=0;const s=e.length;if(t<1||!Array.isArray(e))return[];for(;r<s;)n.push(e.slice(r,r+=t));return n},e}},510:e=>{e.exports=function(e){"use strict";e.Templates.registerLoader("ajax",(function(t,n,r,s){let i;const{precompiled:o}=n,a=this.parsers[n.parser]||this.parser.twig;if("undefined"==typeof XMLHttpRequest)throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');const l=new XMLHttpRequest;return l.onreadystatechange=function(){let c=null;4===l.readyState&&(200===l.status||window.cordova&&0===l.status?(e.log.debug("Got template ",l.responseText),c=!0===o?JSON.parse(l.responseText):l.responseText,n.url=t,n.data=c,i=a.call(this,n),"function"==typeof r&&r(i)):"function"==typeof s&&s(l))},l.open("GET",t,Boolean(n.async)),l.overrideMimeType("text/plain"),l.send(),!!n.async||i}))}},219:(e,t,n)=>{e.exports=function(e){"use strict";let t,r;try{t=n(882),r=n(102)}catch(e){console.warn("Missing fs and path modules. "+e)}e.Templates.registerLoader("fs",(function(n,s,i,o){let a,l=null;const{precompiled:c}=s,p=this.parsers[s.parser]||this.parser.twig;if(!t||!r)throw new e.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');const u=function(e,t){e?"function"==typeof o&&o(e):(!0===c&&(t=JSON.parse(t)),s.data=t,s.path=s.path||n,a=p.call(this,s),"function"==typeof i&&i(a))};if(s.path=s.path||n,s.async)return t.stat(s.path,((n,r)=>{!n&&r.isFile()?t.readFile(s.path,"utf8",u):"function"==typeof o&&o(new e.Error("Unable to find template file "+s.path))})),!0;try{if(!t.statSync(s.path).isFile())throw new e.Error("Unable to find template file "+s.path)}catch(t){throw new e.Error("Unable to find template file "+s.path+". "+t)}return l=t.readFileSync(s.path,"utf8"),u(void 0,l),a}))}},93:e=>{e.exports=function(e){"use strict";for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",apply:"Twig.logic.type.apply",endapply:"Twig.logic.type.endapply",do:"Twig.logic.type.do",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed",with:"Twig.logic.type.with",endwith:"Twig.logic.type.endwith",deprecated:"Twig.logic.type.deprecated"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s?([\s\S]+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile(t){const n=t.match[1];return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,delete t.match,t},parse(t,n,r){const s=this;return e.expression.parseAsync.call(s,t.stack,n).then((i=>(r=!0,e.lib.boolval(i)?(r=!1,s.parseAsync(t.output,n)):""))).then((e=>({chain:r,output:e})))}},{type:e.logic.type.elseif,regex:/^elseif\s*([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile(t){const n=t.match[1];return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,delete t.match,t},parse(t,n,r){const s=this;return e.expression.parseAsync.call(s,t.stack,n).then((i=>r&&e.lib.boolval(i)?(r=!1,s.parseAsync(t.output,n)):"")).then((e=>({chain:r,output:e})))}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse(t,n,r){let s=e.Promise.resolve("");return r&&(s=this.parseAsync(t.output,n)),s.then((e=>({chain:r,output:e})))}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([\S\s]+?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile(t){const n=t.match[1],r=t.match[2],s=t.match[3];let i=null;if(t.keyVar=null,t.valueVar=null,n.includes(",")){if(i=n.split(","),2!==i.length)throw new e.Error("Invalid expression in for loop: "+n);t.keyVar=i[0].trim(),t.valueVar=i[1].trim()}else t.valueVar=n.trim();return t.expression=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,s&&(t.conditional=e.expression.compile.call(this,{type:e.expression.type.expression,value:s}).stack),delete t.match,t},parse(t,n,r){const s=[];let i,o,a=0;const l=this,{conditional:c}=t,p=function(r,o){const p={...n};return p[t.valueVar]=o,t.keyVar&&(p[t.keyVar]=r),p.loop=function(e,t){const r=void 0!==c;return{index:e+1,index0:e,revindex:r?void 0:t-e,revindex0:r?void 0:t-e-1,first:0===e,last:r?void 0:e===t-1,length:r?void 0:t,parent:n}}(a,i),(void 0===c?e.Promise.resolve(!0):e.expression.parseAsync.call(l,c,p)).then((e=>{if(e)return l.parseAsync(t.output,p).then((e=>{s.push(e),a+=1}))})).then((()=>{delete p.loop,delete p[t.valueVar],delete p[t.keyVar],e.merge(n,p,!0)}))};return e.expression.parseAsync.call(l,t.expression,n).then((t=>Array.isArray(t)?(i=t.length,e.async.forEach(t,(e=>p(a,e)))):e.lib.is("Object",t)?(o=void 0===t._keys?Object.keys(t):t._keys,i=o.length,e.async.forEach(o,(e=>{if("_keys"!==e)return p(e,t[e])}))):void 0)).then((()=>({chain:0===s.length,context:n,output:e.output.call(l.template,s)})))}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile(t){const n=t.match[1].trim(),r=t.match[2],s=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack;return t.key=n,t.expression=s,delete t.match,t},parse(t,n,r){const{key:s}=t;return e.expression.parseAsync.call(this,t.expression,n).then((e=>(e===n&&(e={...e}),n[s]=e,{chain:r,context:n})))}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile(e){const t=e.match[1].trim();return e.key=t,delete e.match,e},parse(e,t,n){const r=this,{key:s}=e;return r.parseAsync(e.output,t).then((e=>(r.context[s]=e,t[s]=e,{chain:n,context:t})))}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile(t){const n="|"+t.match[1].trim();return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,delete t.match,t},parse(t,n,r){const s=this;return s.parseAsync(t.output,n).then((r=>{const i=[{type:e.expression.type.string,value:r}].concat(t.stack);return e.expression.parseAsync.call(s,i,n)})).then((e=>({chain:r,output:e})))}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.apply,regex:/^apply\s+(.+)$/,next:[e.logic.type.endapply],open:!0,compile(t){const n="|"+t.match[1].trim();return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,delete t.match,t},parse(t,n,r){const s=this;return s.parseAsync(t.output,n).then((r=>{const i=[{type:e.expression.type.string,value:r}].concat(t.stack);return e.expression.parseAsync.call(s,i,n)})).then((e=>({chain:r,output:e})))}},{type:e.logic.type.endapply,regex:/^endapply$/,next:[],open:!1},{type:e.logic.type.do,regex:/^do\s+([\S\s]+)$/,next:[],open:!0,compile(t){const n=t.match[1],r=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack;return t.expression=r,delete t.match,t},parse(t,n,r){return e.expression.parseAsync.call(this,t.expression,n).then((()=>({chain:r,context:n})))}},{type:e.logic.type.block,regex:/^block\s+(\w+)$/,next:[e.logic.type.endblock],open:!0,compile:e=>(e.blockName=e.match[1].trim(),delete e.match,e),parse(t,n,r){const s=this;let i=e.Promise.resolve();return s.template.blocks.defined[t.blockName]=new e.Block(s.template,t),(null===s.template.parentTemplate||s.template.parentTemplate instanceof e.Template)&&(i=s.getBlock(t.blockName).render(s,n)),i.then((e=>({chain:r,output:e})))}},{type:e.logic.type.shortblock,regex:/^block\s+(\w+)\s+(.+)$/,next:[],open:!0,compile(t){return t.expression=t.match[2].trim(),t.output=e.expression.compile({type:e.expression.type.expression,value:t.expression}).stack,e.logic.handler[e.logic.type.block].compile.apply(this,[t])},parse(...t){return e.logic.handler[e.logic.type.block].parse.apply(this,t)}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+(\w+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile(t){const n=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,t},parse(t,n,r){const s=this;return e.expression.parseAsync.call(s,t.stack,n).then((e=>{if(Array.isArray(e)){const t=e.reverse().reduce(((e,t)=>{try{return{render:s.template.importFile(t),fileName:t}}catch(t){return e}}),{render:null,fileName:null});null!==t.fileName&&(s.template.parentTemplate=t.fileName)}else s.template.parentTemplate=e;return{chain:r,output:""}}))}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile(t){const n=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,t},parse(t,n,r){const s=this;return e.expression.parseAsync.call(s,t.stack,n).then((t=>{const n=s.template.importFile(t),r=new e.ParseState(n);return r.parseAsync(n.tokens).then((()=>{s.template.blocks.imported={...s.template.blocks.imported,...r.getBlocks()}}))})).then((()=>({chain:r,output:""})))}},{type:e.logic.type.include,regex:/^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,next:[],open:!0,compile(t){const{match:n}=t,r=n[1].trim(),s=void 0!==n[2],i=n[3],o=void 0!==n[4]&&n[4].length;return delete t.match,t.only=o,t.ignoreMissing=s,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,void 0!==i&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:i.trim()}).stack),t},parse(t,n,r){let s=t.only?{}:{...n};const{ignoreMissing:i}=t,o=this;let a=null;const l={chain:r,output:""};return a=void 0===t.withStack?e.Promise.resolve():e.expression.parseAsync.call(o,t.withStack,n).then((e=>{s={...s,...e}})),a.then((()=>e.expression.parseAsync.call(o,t.stack,n))).then((t=>{let n;n=Array.isArray(t)?t:[t];const r=n.reduce(((t,n)=>{if(null===t.render){if(n instanceof e.Template)return{render:n.renderAsync(s,{isInclude:!0}),lastError:null};try{return{render:o.template.importFile(n).renderAsync(s,{isInclude:!0}),lastError:null}}catch(e){return{render:null,lastError:e}}}return t}),{render:null,lastError:null});if(null!==r.render)return r.render;if(null===r.render&&i)return"";throw r.lastError})).then((e=>(""!==e&&(l.output=e),l)))}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse(t,n,r){return this.parseAsync(t.output,n).then((t=>{let n=t.replace(/>\s+</g,"><").trim();return n=new e.Markup(n),{chain:r,output:n}}))}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+(\w+)\s*\(\s*((?:\w+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,next:[e.logic.type.endmacro],open:!0,compile(t){const n=t.match[1],r=t.match[2].split(/\s*,\s*/),s=r.map((e=>e.split(/\s*=\s*/)[0])),i=s.length;if(i>1){const t={};for(let n=0;n<i;n++){const r=s[n];if(t[r])throw new e.Error("Duplicate arguments for parameter: "+r);t[r]=1}}return t.macroName=n,t.parameters=s,t.defaults=r.reduce((function(t,n){const r=n.split(/\s*=\s*/),s=r[0],i=r[1];return t[s]=i?e.expression.compile.call(this,{type:e.expression.type.expression,value:i}).stack:void 0,t}),{}),delete t.match,t},parse(t,n,r){const s=this;return s.macros[t.macroName]=function(...r){const i={...s.context,_self:s.macros};return e.async.forEach(t.parameters,(function(s,o){return void 0!==r[o]?(i[s]=r[o],!0):void 0!==t.defaults[s]?e.expression.parseAsync.call(this,t.defaults[s],n).then((t=>(i[s]=t,e.Promise.resolve()))):(i[s]=void 0,!0)})).then((()=>s.parseAsync(t.output,i)))},{chain:r,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+(\w+)$/,next:[],open:!0,compile(t){const n=t.match[1].trim(),r=t.match[2].trim();return delete t.match,t.expression=n,t.contextName=r,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,t},parse(t,n,r){const s=this,i={chain:r,output:""};return"_self"===t.expression?(n[t.contextName]=s.macros,i):e.expression.parseAsync.call(s,t.stack,n).then((e=>s.template.importFile(e||t.expression))).then((r=>{const s=new e.ParseState(r);return s.parseAsync(r.tokens).then((()=>(n[t.contextName]=s.macros,i)))}))}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile(t){const n=t.match[1].trim(),r=t.match[2].trim().split(/\s*,\s*/),s={};for(const e of r){const t=e.match(/^(\w+)\s+as\s+(\w+)$/);t?s[t[1].trim()]=t[2].trim():e.match(/^(\w+)$/)&&(s[e]=e)}return delete t.match,t.expression=n,t.macroNames=s,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,t},parse(t,n,r){const s=this;let i;return i="_self"===t.expression?e.Promise.resolve(s.macros):e.expression.parseAsync.call(s,t.stack,n).then((e=>s.template.importFile(e||t.expression))).then((t=>{const n=new e.ParseState(t);return n.parseAsync(t.tokens).then((()=>n.macros))})),i.then((e=>{for(const r in t.macroNames)void 0!==e[r]&&(n[t.macroNames[r]]=e[r]);return{chain:r,output:""}}))}},{type:e.logic.type.embed,regex:/^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,next:[e.logic.type.endembed],open:!0,compile(t){const{match:n}=t,r=n[1].trim(),s=void 0!==n[2],i=n[3],o=void 0!==n[4]&&n[4].length;return delete t.match,t.only=o,t.ignoreMissing=s,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,void 0!==i&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:i.trim()}).stack),t},parse(t,n,r){let s={},i=e.Promise.resolve(),o=this;return t.only||(s={...n}),void 0!==t.withStack&&(i=e.expression.parseAsync.call(o,t.withStack,n).then((e=>{s={...s,...e}}))),i.then((()=>e.expression.parseAsync.call(o,t.stack,s))).then((n=>{const r=new e.Template({data:t.output,base:o.template.base,path:o.template.path,url:o.template.url,name:o.template.name,method:o.template.method,options:o.template.options});try{r.importFile(n)}catch(e){if(t.ignoreMissing)return"";throw o=null,e}return r.parentTemplate=n,r.renderAsync(s,{isInclude:!0})})).then((e=>({chain:r,output:e})))}},{type:e.logic.type.endembed,regex:/^endembed$/,next:[],open:!1},{type:e.logic.type.with,regex:/^(?:with(?:\s+([\S\s]+?))?)(?:\s|$)(only)?$/,next:[e.logic.type.endwith],open:!0,compile(t){const{match:n}=t,r=n[1],s=void 0!==n[2]&&n[2].length;return delete t.match,t.only=s,void 0!==r&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r.trim()}).stack),t},parse(t,n,r){let s,i={};let o=e.Promise.resolve();t.only||(i={...n}),void 0!==t.withStack&&(o=e.expression.parseAsync.call(this,t.withStack,n).then((e=>{for(s in e)Object.hasOwnProperty.call(e,s)&&(i[s]=e[s])})));const a=new e.ParseState(this.template,void 0,i);return o.then((()=>a.parseAsync(t.output))).then((e=>({chain:r,output:e})))}},{type:e.logic.type.endwith,regex:/^endwith$/,next:[],open:!1},{type:e.logic.type.deprecated,regex:/^deprecated\s+(.+)$/,next:[],open:!0,compile:e=>(console.warn("Deprecation notice: "+e.match[1]),e),parse:()=>({})}],e.logic.handler={},e.logic.extendType=function(t,n){n=n||"Twig.logic.type"+t,e.logic.type[t]=n},e.logic.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.logic.extendType(t.type),e.logic.handler[t.type]=t};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(t){const n=t.value.trim();let r=e.logic.tokenize.call(this,n);const s=e.logic.handler[r.type];return s.compile&&(r=s.compile.call(this,r),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",r)),r},e.logic.tokenize=function(t){let n=null,r=null,s=null,i=null,o=null,a=null,l=null;for(n in t=t.trim(),e.logic.handler)if(Object.hasOwnProperty.call(e.logic.handler,n))for(r=e.logic.handler[n].type,s=e.logic.handler[n].regex,i=s,Array.isArray(s)||(i=[s]),o=i.length,a=0;a<o;a++)if(l=i[a].exec(t),null!==l)return e.log.trace("Twig.logic.tokenize: ","Matched a ",r," regular expression of ",l),{type:r,match:l};throw new e.Error("Unable to parse '"+t.trim()+"'")},e.logic.parse=function(t,n,r,s){return e.async.potentiallyAsync(this,s,(function(){e.log.debug("Twig.logic.parse: ","Parsing logic token ",t);const s=e.logic.handler[t.type];let i;const o=this;return s.parse?(o.nestingStack.unshift(t),i=s.parse.call(o,t,n||{},r),e.isPromise(i)?i=i.then((e=>(o.nestingStack.shift(),e))):o.nestingStack.shift(),i):""}))},e}},717:e=>{e.exports=function(e){"use strict";e.Templates.registerParser("source",(e=>e.data||""))}},373:e=>{e.exports=function(e){"use strict";e.Templates.registerParser("twig",(t=>new e.Template(t)))}},376:(e,t,n)=>{e.exports=function(e){"use strict";return e.path={},e.path.expandNamespace=function(e,t){const n=Object.keys(e),r=new RegExp(`^(?:@(${n.join("|")})/|(${n.join("|")})::)`);return t.replace(r,((t,n,r)=>`${e[void 0===n?r:n]}/`))},e.path.parsePath=function(t,n){const{namespaces:r}=t.options,s=n||"";let i=r&&"object"==typeof r?e.path.expandNamespace(r,s):s;return i===s&&(i=e.path.relativePath(t,s)),i},e.path.relativePath=function(t,r){let s,i,o="/";const a=[];let l,c=r||"";if(t.url)s=void 0===t.base?t.url:t.base.replace(/([^/])$/,"$1/");else if(t.path){const e=n(102),r=e.sep||o,i=new RegExp("^\\.{1,2}"+r.replace("\\","\\\\"));c=c.replace(/\//g,r),void 0!==t.base&&null===c.match(i)?(c=c.replace(t.base,""),s=t.base+r):s=e.normalize(t.path),s=s.replace(r+r,r),o=r}else{if(!t.name&&!t.id||!t.method||"fs"===t.method||"ajax"===t.method)throw new e.Error("Cannot extend an inline template.");s=t.base||t.name||t.id}for(i=s.split(o),i.pop(),i=i.concat(c.split(o));i.length>0;)l=i.shift(),"."===l||(".."===l&&a.length>0&&".."!==a[a.length-1]?a.pop():a.push(l));return a.join(o)},e}},490:e=>{e.exports=function(e){"use strict";return e.tests={empty(e){if(!0===e)return!1;if(null==e)return!0;if("number"==typeof e)return!1;if(e.length>0)return!1;for(const t in e)if(Object.hasOwnProperty.call(e,t))return!1;return!0},odd:e=>e%2==1,even:e=>e%2==0,"divisible by":(e,t)=>e%t[0]==0,divisibleby:(t,n)=>(console.warn("`divisibleby` is deprecated use `divisible by`"),e.tests["divisible by"](t,n)),defined:e=>void 0!==e,none:e=>null===e,null(e){return this.none(e)},"same as":(e,t)=>e===t[0],sameas:(t,n)=>(console.warn("`sameas` is deprecated use `same as`"),e.tests["same as"](t,n)),iterable:t=>t&&(e.lib.is("Array",t)||e.lib.is("Object",t))},e.test=function(t,n,r){if(!e.tests[t])throw e.Error("Test "+t+" is not defined.");return e.tests[t](n,r)},e.test.extend=function(t,n){e.tests[t]=n},e}},580:e=>{e.exports="次の課題について、最もよいと思われる解決方法を1つだけ提案してください。\n\n■課題\n{{mainTheme}}\n"},491:e=>{e.exports="反対意見を持つメンバーが {{score.disagree}}名 いたため、可決しませんでした。\n各メンバーの立場と主張は次の通りです。\n\n---\n\n{% for review in reviews %}\n{{review.reviewer.name}}さんは{{review.stance ? '賛成' : '反対'}} の立場です。\n次の意見を表明しました。\n\n```\n{{review.content}}\n```\n{% endfor %}\n\n全員が賛成する修正案を提案してください。\n"},129:e=>{e.exports="あなたの名前は「{{profile.name}}」です。\n{% if profile.role %}\n「{{profile.role}}」という役割を担っています。\n{% endif %}\n\n{% if profile.personalities|length %}\nあなたは、次のような性格です。\n{% for personality in profile.personalities %}\n・{{personality}}\n{% endfor %}\n{% endif %}\n\n{% if profile.features|length %}\nあなたには、次のような特徴があります。\n{% for feature in profile.features %}\n・{{feature}}\n{% endfor %}\n{% endif %}\n\n{% if profile.abilities|length %}\nあなたには、次のような能力があります。\n{% for ability in profile.abilities %}\n・{{ability}}\n{% endfor %}\n{% endif %}\n\n{% if profile.episodes|length %}\nあなたには、次のようなエピソードがあります。\n{% for episode in profile.episodes %}\n・{{episode}}\n{% endfor %}\n{% endif %}\n\n次の課題について、解決策が提案されています。\n提案を評価し、はじめに「賛成」または「反対」のいずれかの立場を表明してください。\nそのあと、その理由を提示してください。\n\n■課題\n{{mainTheme}}\n\n■提案\n{{currentIdea}}\n"},514:e=>{e.exports='<div class="cont-diaolog-conclusion">\n    <div class="cont-diaolog-conclusion__inner">\n        <h2 class="cont-diaolog-conclusion__section-title">conclusion</h2>\n        <p>次のアイデアで決着しました。</p>\n        <p>{{answer_to_html(currentIdea)}}</p>\n    </div>\n</div>\n'},787:e=>{e.exports='<div class="cont-dialog-ideation">\n    <div class="cont-dialog-ideation__inner">\n        <h2 class="cont-dialog-ideation__section-title">ideation #{{ turnNumber }}</h2>\n        <p>{{answer_to_html(currentIdea)}}</p>\n    </div>\n</div>\n'},257:e=>{e.exports='<div class="cont-diaolog-member-profile">\n    <div class="cont-diaolog-member-profile__inner">\n        <h2 class="cont-diaolog-member-profile__section-title">profile</h2>\n        <div>\n            <p>{{ presenter.name }}</p>\n        </div>\n        {% for reviewer in reviewers %}\n        <div>\n            <p>{{ reviewer.name }}</p>\n            <p>{{ dump(reviewer) }}</p>\n        </div>\n        {% endfor %}\n    </div>\n</div>\n'},398:e=>{e.exports='<div class="cont-diaolog-review">\n    <div class="cont-diaolog-review__inner">\n        <h2 class="cont-diaolog-review__section-title">review</h2>\n        {% for review in reviews %}\n        <div class="cont-diaolog-review__answer cont-diaolog-review__answer--stance-{{ review.stance ? "true" : "false" }}">\n            <div class="cont-diaolog-review__answer__inner">\n                <h3 class="cont-diaolog-review__section-title">{{ review.reviewer.name }}</h3>\n                <p>{{ answer_to_html(review.content) }}</p>\n            </div>\n        </div>\n        {% endfor %}\n    </div>\n</div>\n'},882:()=>{}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(741),t=n.n(e);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=r(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function o(e,t){return e.get(a(e,t))}function a(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var l=new WeakMap,c=function(){return e=function e(t){var n,r,s,i,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=void 0,function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(s=this,i=l),i.set(s,o),r=t,(n=l).set(a(n,this),r)},(t=[{key:"getProfile",value:function(){return o(l,this)}},{key:"ask",value:function(e){var t=this;return new Promise((function(n,r){$.ajax({url:"./index_files/apis/query.php",type:"post",dataType:"json",contentType:"application/json",data:JSON.stringify({type:o(l,t).type,messages:e}),headers:{"X-CSRF-TOKEN":$("meta[name=csrf-token]").attr("content")},async:!0}).done((function(e){n(e)})).fail((function(e){r(e)}))}))}}])&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();const p=c;var u=n(580),h=n.n(u),f=n(491),d=n.n(f),g=n(129),m=n.n(g);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function b(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}function k(e,t,n){w(e,t),t.set(e,n)}function w(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(e,t){return e.get(S(e,t))}function T(e,t,n){return e.set(S(e,t),n),n}function S(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var E={ideation:h(),retake:d(),review:m()},A=new WeakMap,_=new WeakMap,j=new WeakMap,R=new WeakMap,O=new WeakMap,P=new WeakMap,N=new WeakMap,z=new WeakMap,M=new WeakSet;function C(){var e,t=this;T(R,this,(e=v(R,this),++e)),v(R,this)>10||"stop"==v(A,this)||(v(O,this).length||v(O,this).push({role:"user",content:S(M,this,I).call(this,"ideation",{mainTheme:v(_,this)})}),v(z,this).presenter.ask(v(O,this)).then((function(e){v(O,t).push(e.choices[0].message),T(j,t,e.choices[0].message.content),v(P,t).call(t,{phase:"ideation",turnNumber:v(R,t),currentIdea:v(j,t)}),S(M,t,L).call(t)})).catch((function(e){console.error(e)})))}function L(){var e=this,t=[];return v(z,this).reviewers.forEach((function(n){var r=[{role:"user",content:S(M,e,I).call(e,"review",{mainTheme:v(_,e),currentIdea:v(j,e),profile:n.getProfile()})}];t.push(n.ask(r))})),Promise.allSettled(t).then((function(t){var n=S(M,e,D).call(e,t),r=[];t.forEach((function(t,s){var i=t.value.choices[0].message;i.stance=n.scores[s],i.reviewer=v(z,e).reviewers[s].getProfile(),r.push(i)})),v(P,e).call(e,{phase:"review",reviews:r}),n.total<=n.agree?(v(P,e).call(e,{phase:"conclusion",currentIdea:v(j,e)}),e.stopDiscussion()):(v(O,e).push({role:"user",content:S(M,e,I).call(e,"retake",{mainTheme:v(_,e),currentIdea:v(j,e),reviews:r,score:n})}),S(M,e,C).call(e))})).catch((function(e){console.error(e)}))}function D(e){var t={agree:0,disagree:0,unknown:0,total:0,scores:[]};return e.forEach((function(e,n){e.value.choices[0].message.content.match(/^[\s\S]*?(賛成|反対)/);var r=RegExp.$1;t.total++,"賛成"==r?(t.agree++,t.scores.push(!0)):"反対"==r?(t.disagree++,t.scores.push(!1)):(t.unknown++,t.scores.push(null))})),t}function I(e,n){var r="",s=t().twig;try{r=new s({data:E[e]}).render(n)}catch(e){var i='TemplateEngine "Twig" Rendering ERROR.';console.error(i),r=i}return r}const F=function(){return e=function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,t=M),t.add(this),k(this,A,"stop"),k(this,_,void 0),k(this,j,void 0),k(this,R,0),k(this,O,[]),k(this,P,void 0),k(this,N,void 0),k(this,z,void 0)},(t=[{key:"init",value:function(e){var t=this;T(A,this,"stop"),T(_,this,e.mainTheme),T(j,this,""),T(R,this,0),T(O,this,[]),T(P,this,e.onmessage||function(){}),T(N,this,e.onstop||function(){}),T(z,this,{presenter:new p(e.members.presenter),reviewers:[]}),e.members.reviewers.forEach((function(e){v(z,t).reviewers.push(new p(e))}))}},{key:"startDiscussion",value:function(){T(A,this,"playing"),S(M,this,C).call(this)}},{key:"stopDiscussion",value:function(){T(A,this,"stop"),v(N,this).call(this)}}])&&x(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();var U=n(257),W=n.n(U),B=n(514),q=n.n(B),Z=n(787),H=n.n(Z),V=n(398),Y=n.n(V);let Q={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function J(e){Q=e}const G=/[&<>"']/,X=new RegExp(G.source,"g"),K=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ee=new RegExp(K.source,"g"),te={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ne=e=>te[e];function re(e,t){if(t){if(G.test(e))return e.replace(X,ne)}else if(K.test(e))return e.replace(ee,ne);return e}const se=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function ie(e){return e.replace(se,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const oe=/(^|[^\[])\^/g;function ae(e,t){let n="string"==typeof e?e:e.source;t=t||"";const r={replace:(e,t)=>{let s="string"==typeof t?t:t.source;return s=s.replace(oe,"$1"),n=n.replace(e,s),r},getRegex:()=>new RegExp(n,t)};return r}function le(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}const ce={exec:()=>null};function pe(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,s=t;for(;--s>=0&&"\\"===n[s];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function ue(e,t,n){const r=e.length;if(0===r)return"";let s=0;for(;s<r;){const i=e.charAt(r-s-1);if(i!==t||n){if(i===t||!n)break;s++}else s++}return e.slice(0,r-s)}function he(e,t,n,r){const s=t.href,i=t.title?re(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:s,title:i,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:s,title:i,text:re(o)}}class fe{options;rules;lexer;constructor(e){this.options=e||Q}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:ue(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=ue(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1");e=ue(e.replace(/^ *>[ \t]?/gm,""),"\n");const n=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const i=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let o="",a="",l=!1;for(;e;){let n=!1;if(!(t=i.exec(e)))break;if(this.rules.block.hr.test(e))break;o=t[0],e=e.substring(o.length);let r=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),c=e.split("\n",1)[0],p=0;this.options.pedantic?(p=2,a=r.trimStart()):(p=t[2].search(/[^ ]/),p=p>4?1:p,a=r.slice(p),p+=t[1].length);let u=!1;if(!r&&/^ *$/.test(c)&&(o+=c+"\n",e=e.substring(c.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),s=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),i=new RegExp(`^ {0,${Math.min(3,p-1)}}#`);for(;e;){const l=e.split("\n",1)[0];if(c=l,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),s.test(c))break;if(i.test(c))break;if(t.test(c))break;if(n.test(e))break;if(c.search(/[^ ]/)>=p||!c.trim())a+="\n"+c.slice(p);else{if(u)break;if(r.search(/[^ ]/)>=4)break;if(s.test(r))break;if(i.test(r))break;if(n.test(r))break;a+="\n"+c}u||c.trim()||(u=!0),o+=l+"\n",e=e.substring(l.length+1),r=c.slice(p)}}s.loose||(l?s.loose=!0:/\n *\n *$/.test(o)&&(l=!0));let h,f=null;this.options.gfm&&(f=/^\[[ xX]\] /.exec(a),f&&(h="[ ] "!==f[0],a=a.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:o,task:!!f,checked:h,loose:!1,text:a,tokens:[]}),s.raw+=o}s.items[s.items.length-1].raw=o.trimEnd(),s.items[s.items.length-1].text=a.trimEnd(),s.raw=s.raw.trimEnd();for(let e=0;e<s.items.length;e++)if(this.lexer.state.top=!1,s.items[e].tokens=this.lexer.blockTokens(s.items[e].text,[]),!s.loose){const t=s.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));s.loose=n}if(s.loose)for(let e=0;e<s.items.length;e++)s.items[e].loose=!0;return s}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const n=pe(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),s=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const e of r)/^ *-+: *$/.test(e)?i.align.push("right"):/^ *:-+: *$/.test(e)?i.align.push("center"):/^ *:-+ *$/.test(e)?i.align.push("left"):i.align.push(null);for(const e of n)i.header.push({text:e,tokens:this.lexer.inline(e)});for(const e of s)i.rows.push(pe(e,i.header.length).map((e=>({text:e,tokens:this.lexer.inline(e)}))));return i}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:re(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=ue(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),he(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return he(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(r&&(!r[3]||!n.match(/[\p{L}\p{N}]/u))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){const n=[...r[0]].length-1;let s,i,o=n,a=0;const l="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=l.exec(t));){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(i=[...s].length,r[3]||r[4]){o+=i;continue}if((r[5]||r[6])&&n%3&&!((n+i)%3)){a+=i;continue}if(o-=i,o>0)continue;i=Math.min(i,i+o+a);const t=[...r[0]][0].length,l=e.slice(0,n+r.index+t+i);if(Math.min(n,i)%2){const e=l.slice(1,-1);return{type:"em",raw:l,text:e,tokens:this.lexer.inlineTokens(e)}}const c=l.slice(2,-2);return{type:"strong",raw:l,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=re(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=re(t[1]),n="mailto:"+e):(e=re(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let e,n;if("@"===t[2])e=re(t[0]),n="mailto:"+e;else{let r;do{r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(r!==t[0]);e=re(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:re(t[0]),{type:"text",raw:t[0],text:e}}}}const de=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ge=/(?:[*+-]|\d{1,9}[.)])/,me=ae(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ge).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),ye=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,xe=/(?!\s*\])(?:\\.|[^\[\]\\])+/,be=ae(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",xe).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ke=ae(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ge).getRegex(),we="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ve=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Te=ae("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",ve).replace("tag",we).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Se=ae(ye).replace("hr",de).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",we).getRegex(),Ee={blockquote:ae(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Se).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:be,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:de,html:Te,lheading:me,list:ke,newline:/^(?: *(?:\n|$))+/,paragraph:Se,table:ce,text:/^[^\n]+/},Ae=ae("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",de).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",we).getRegex(),_e={...Ee,table:Ae,paragraph:ae(ye).replace("hr",de).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ae).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",we).getRegex()},je={...Ee,html:ae("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ve).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ce,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ae(ye).replace("hr",de).replace("heading"," *#{1,6} *[^\n]").replace("lheading",me).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Re=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Oe=/^( {2,}|\\)\n(?!\s*$)/,$e="\\p{P}\\p{S}",Pe=ae(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,$e).getRegex(),Ne=ae(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,$e).getRegex(),ze=ae("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,$e).getRegex(),Me=ae("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,$e).getRegex(),Ce=ae(/\\([punct])/,"gu").replace(/punct/g,$e).getRegex(),Le=ae(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),De=ae(ve).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ie=ae("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",De).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Fe=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ue=ae(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Fe).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),We=ae(/^!?\[(label)\]\[(ref)\]/).replace("label",Fe).replace("ref",xe).getRegex(),Be=ae(/^!?\[(ref)\](?:\[\])?/).replace("ref",xe).getRegex(),qe={_backpedal:ce,anyPunctuation:Ce,autolink:Le,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:Oe,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:ce,emStrongLDelim:Ne,emStrongRDelimAst:ze,emStrongRDelimUnd:Me,escape:Re,link:Ue,nolink:Be,punctuation:Pe,reflink:We,reflinkSearch:ae("reflink|nolink(?!\\()","g").replace("reflink",We).replace("nolink",Be).getRegex(),tag:Ie,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:ce},Ze={...qe,link:ae(/^!?\[(label)\]\((.*?)\)/).replace("label",Fe).getRegex(),reflink:ae(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Fe).getRegex()},He={...qe,escape:ae(Re).replace("])","~|])").getRegex(),url:ae(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ve={...He,br:ae(Oe).replace("{2,}","*").getRegex(),text:ae(He.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ye={normal:Ee,gfm:_e,pedantic:je},Qe={normal:qe,gfm:He,breaks:Ve,pedantic:Ze};class Je{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Q,this.options.tokenizer=this.options.tokenizer||new fe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Ye.normal,inline:Qe.normal};this.options.pedantic?(t.block=Ye.pedantic,t.inline=Qe.pedantic):this.options.gfm&&(t.block=Ye.gfm,this.options.breaks?t.inline=Qe.breaks:t.inline=Qe.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ye,inline:Qe}}static lex(e,t){return new Je(t).lex(e)}static lexInline(e,t){return new Je(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){const t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){let n,r,s,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(n):(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(s=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(s=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s)))r=t[t.length-1],i&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),i=s.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,s,i,o,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(l));)l=l.slice(0,i.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(o||(a=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(s=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(s=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(s))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),o=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class Ge{options;constructor(e){this.options=e||Q}code(e,t,n){const r=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="language-'+re(r)+'">'+(n?e:re(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:re(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,n){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){const r=le(e);if(null===r)return n;let s='<a href="'+(e=r)+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s}image(e,t,n){const r=le(e);if(null===r)return n;let s=`<img src="${e=r}" alt="${n}"`;return t&&(s+=` title="${t}"`),s+=">",s}text(e){return e}}class Xe{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Ke{options;renderer;textRenderer;constructor(e){this.options=e||Q,this.options.renderer=this.options.renderer||new Ge,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Xe}static parse(e,t){return new Ke(t).parse(e)}static parseInline(e,t){return new Ke(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const e=s,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}switch(s.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const e=s;n+=this.renderer.heading(this.parseInline(e.tokens),e.depth,ie(this.parseInline(e.tokens,this.textRenderer)));continue}case"code":{const e=s;n+=this.renderer.code(e.text,e.lang,!!e.escaped);continue}case"table":{const e=s;let t="",r="";for(let t=0;t<e.header.length;t++)r+=this.renderer.tablecell(this.parseInline(e.header[t].tokens),{header:!0,align:e.align[t]});t+=this.renderer.tablerow(r);let i="";for(let t=0;t<e.rows.length;t++){const n=e.rows[t];r="";for(let t=0;t<n.length;t++)r+=this.renderer.tablecell(this.parseInline(n[t].tokens),{header:!1,align:e.align[t]});i+=this.renderer.tablerow(r)}n+=this.renderer.table(t,i);continue}case"blockquote":{const e=s,t=this.parse(e.tokens);n+=this.renderer.blockquote(t);continue}case"list":{const e=s,t=e.ordered,r=e.start,i=e.loose;let o="";for(let t=0;t<e.items.length;t++){const n=e.items[t],r=n.checked,s=n.task;let a="";if(n.task){const e=this.renderer.checkbox(!!r);i?n.tokens.length>0&&"paragraph"===n.tokens[0].type?(n.tokens[0].text=e+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=e+" "+n.tokens[0].tokens[0].text)):n.tokens.unshift({type:"text",text:e+" "}):a+=e+" "}a+=this.parse(n.tokens,i),o+=this.renderer.listitem(a,s,!!r)}n+=this.renderer.list(o,t,r);continue}case"html":{const e=s;n+=this.renderer.html(e.text,e.block);continue}case"paragraph":{const e=s;n+=this.renderer.paragraph(this.parseInline(e.tokens));continue}case"text":{let i=s,o=i.tokens?this.parseInline(i.tokens):i.text;for(;r+1<e.length&&"text"===e[r+1].type;)i=e[++r],o+="\n"+(i.tokens?this.parseInline(i.tokens):i.text);n+=t?this.renderer.paragraph(o):o;continue}default:{const e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const e=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=e||"";continue}}switch(s.type){case"escape":{const e=s;n+=t.text(e.text);break}case"html":{const e=s;n+=t.html(e.text);break}case"link":{const e=s;n+=t.link(e.href,e.title,this.parseInline(e.tokens,t));break}case"image":{const e=s;n+=t.image(e.href,e.title,e.text);break}case"strong":{const e=s;n+=t.strong(this.parseInline(e.tokens,t));break}case"em":{const e=s;n+=t.em(this.parseInline(e.tokens,t));break}case"codespan":{const e=s;n+=t.codespan(e.text);break}case"br":n+=t.br();break;case"del":{const e=s;n+=t.del(this.parseInline(e.tokens,t));break}case"text":{const e=s;n+=t.text(e.text);break}default:{const e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class et{options;constructor(e){this.options=e||Q}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}const tt=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(Je.lex,Ke.parse);parseInline=this.#e(Je.lexInline,Ke.parseInline);Parser=Ke;Renderer=Ge;TextRenderer=Xe;Lexer=Je;Tokenizer=fe;Hooks=et;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(const r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{const e=r;for(const r of e.header)n=n.concat(this.walkTokens(r.tokens,t));for(const r of e.rows)for(const e of r)n=n.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=r;n=n.concat(this.walkTokens(e.items,t));break}default:{const e=r;this.defaults.extensions?.childTokens?.[e.type]?this.defaults.extensions.childTokens[e.type].forEach((r=>{const s=e[r].flat(1/0);n=n.concat(this.walkTokens(s,t))})):e.tokens&&(n=n.concat(this.walkTokens(e.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n={...e};if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new Ge(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if("options"===n)continue;const r=n,s=e.renderer[r],i=t[r];t[r]=(...e)=>{let n=s.apply(t,e);return!1===n&&(n=i.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new fe(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,s=e.tokenizer[r],i=t[r];t[r]=(...e)=>{let n=s.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new et;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if("options"===n)continue;const r=n,s=e.hooks[r],i=t[r];et.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async)return Promise.resolve(s.call(t,e)).then((e=>i.call(t,e)));const n=s.call(t,e);return i.call(t,n)}:t[r]=(...e)=>{let n=s.apply(t,e);return!1===n&&(n=i.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults={...this.defaults,...n}})),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Je.lex(e,t??this.defaults)}parser(e,t){return Ke.parse(e,t??this.defaults)}#e(e,t){return(n,r)=>{const s={...r},i={...this.defaults,...s};!0===this.defaults.async&&!1===s.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const o=this.#t(!!i.silent,!!i.async);if(null==n)return o(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(n):n).then((t=>e(t,i))).then((e=>i.hooks?i.hooks.processAllTokens(e):e)).then((e=>i.walkTokens?Promise.all(this.walkTokens(e,i.walkTokens)).then((()=>e)):e)).then((e=>t(e,i))).then((e=>i.hooks?i.hooks.postprocess(e):e)).catch(o);try{i.hooks&&(n=i.hooks.preprocess(n));let r=e(n,i);i.hooks&&(r=i.hooks.processAllTokens(r)),i.walkTokens&&this.walkTokens(r,i.walkTokens);let s=t(r,i);return i.hooks&&(s=i.hooks.postprocess(s)),s}catch(e){return o(e)}}}#t(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+re(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}};function nt(e,t){return tt.parse(e,t)}function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,it(r.key),r)}}function it(e){var t=function(e,t){if("object"!=rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rt(t)?t:t+""}nt.options=nt.setOptions=function(e){return tt.setOptions(e),nt.defaults=tt.defaults,J(nt.defaults),nt},nt.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},nt.defaults=Q,nt.use=function(...e){return tt.use(...e),nt.defaults=tt.defaults,J(nt.defaults),nt},nt.walkTokens=function(e,t){return tt.walkTokens(e,t)},nt.parseInline=tt.parseInline,nt.Parser=Ke,nt.parser=Ke.parse,nt.Renderer=Ge,nt.TextRenderer=Xe,nt.Lexer=Je,nt.lexer=Je.lex,nt.Tokenizer=fe,nt.Hooks=et,nt.parse=nt,nt.options,nt.setOptions,nt.use,nt.walkTokens,nt.parseInline,Ke.parse,Je.lex;var ot={profile:W(),conclusion:q(),ideation:H(),review:Y()};t().extendFunction("answer_to_html",(function(e){return nt(e)}));const at=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(n=[{key:"bindTemplate",value:function(e,n){var r="",s=t().twig;try{r=new s({data:ot[e]}).render(n)}catch(e){var i='TemplateEngine "Twig" Rendering ERROR.';console.error(i),r=i}return r}}])&&st(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();var lt,ct=new F,pt=new at,ut=$("#cont-profile"),ht=$("#cont-discussion-log"),ft=$("#cont-btn-start"),dt=$("#cont-btn-stop");dt.attr({disabled:!0});var gt=$("input[name=committee-settings]"),mt=null;new Promise((function(e,t){lt?e(lt):window.getCsrfToken((function(t){e(lt=t)}))})).then((function(e){return new Promise((function(e,t){mt?e(mt):$.ajax({url:"./index_files/apis/get_committee_settings.php",type:"get",dataType:"json",async:!0}).done((function(t){mt=t.members,ut.html("").append(pt.bindTemplate("profile",mt)),e(mt)})).fail((function(e){console.error(e)}))}))})),gt.on("change",(function(e){var t=e.target.files[0];$(this).val()&&function(e,t){var n=new FileReader;n.onload=function(e){var t;t=e.target.result,mt=JSON.parse(t),ut.html("").append(pt.bindTemplate("profile",mt))},n.readAsText(e)}(t)})),ft.on("click",(function(){ft.attr({disabled:!0}),dt.attr({disabled:!1});var e=$('textarea[name="main-theme"]').val();mt&&(ht.html(""),ct.init({mainTheme:e,members:mt,onmessage:function(e){console.log("=-=-=-=-= message:",e),ht.append(pt.bindTemplate(e.phase,e))},onstop:function(){ft.attr({disabled:!1}),dt.attr({disabled:!0})}}),ct.startDiscussion())})),dt.on("click",(function(){ct.stopDiscussion()}))})()})();
//# sourceMappingURL=script.js.map