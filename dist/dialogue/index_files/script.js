(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function n(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}function r(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function i(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var o=new WeakMap,a=new WeakSet;function s(e){var t,n=(this,(t=o).get(i(t,this)));return n||(n="${mainTheme}"),n.split("${mainTheme}").join(e.mainTheme)}const u=function(){return e=function e(t){var n,s,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,n=a),n.add(this),function(e,t,n){r(e,t),t.set(e,"")}(this,o),s=o,u=t.template||"",s.set(i(s,this),u)},(n=[{key:"ask",value:function(e){var t=i(a,this,s).call(this,e);return new Promise((function(e,n){$.ajax({url:"./index_files/apis/query.php",type:"post",dataType:"json",data:{content:t,CSRF_TOKEN:$("meta[name=csrf-token]").attr("content")},async:!0}).done((function(t){e(t)})).fail((function(e){n(e)}))}))}}])&&t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}function m(e,t,n){p(e,t),t.set(e,n)}function p(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y(e,t){return e.get(v(e,t))}function h(e,t,n){return e.set(v(e,t),n),n}function v(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var b=new WeakMap,w=new WeakMap,d=new WeakMap,T=new WeakSet;function g(){y(d,this).presenter.ask({mainTheme:y(b,this)}).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))}var j,k=new(function(){return e=function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,t=T),t.add(this),m(this,b,void 0),m(this,w,void 0),m(this,d,void 0)},(t=[{key:"init",value:function(e){var t=this;h(b,this,e.mainTheme),h(w,this,""),h(d,this,{presenter:new u({template:e.members.presenter.template||""}),reviewers:[]}),e.members.reviewers.forEach((function(e){y(d,t).reviewers.push(new u({template:e.template||""}))}))}},{key:"startDiscussion",value:function(){v(T,this,g).call(this)}},{key:"stopDiscussion",value:function(){}}])&&f(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}());$("#cont-btn-sendtest").on("click",(function(){var e=$('textarea[name="main-theme"]').val();new Promise((function(e,t){j?e(j):window.getCsrfToken((function(t){e(j=t)}))})).then((function(e){return new Promise((function(e,t){$.ajax({url:"./index_files/apis/get_committee_settings.php",type:"get",dataType:"json",async:!0}).done((function(t){e(t.members)})).fail((function(e){console.error(e)}))}))})).then((function(t){k.init({mainTheme:e,members:t}),k.startDiscussion()}))}))})();
//# sourceMappingURL=script.js.map